import{_ as i,o,c as l,ag as a}from"./chunks/framework.DM0yugQT.js";const h=JSON.parse('{"title":"Issue Wave GH-35 - Lane 6 Report","description":"","frontmatter":{},"headers":[],"relativePath":"planning/reports/issue-wave-gh-35-lane-6.md","filePath":"planning/reports/issue-wave-gh-35-lane-6.md","lastUpdated":1771762128000}'),r={name:"planning/reports/issue-wave-gh-35-lane-6.md"};function t(s,e,d,n,u,c){return o(),l("div",null,[...e[0]||(e[0]=[a('<h1 id="issue-wave-gh-35-lane-6-report" tabindex="-1">Issue Wave GH-35 - Lane 6 Report <a class="header-anchor" href="#issue-wave-gh-35-lane-6-report" aria-label="Permalink to &quot;Issue Wave GH-35 - Lane 6 Report&quot;">​</a></h1><h2 id="scope" tabindex="-1">Scope <a class="header-anchor" href="#scope" aria-label="Permalink to &quot;Scope&quot;">​</a></h2><ul><li>Lane: 6</li><li>Worktree: <code>/Users/kooshapari/temp-PRODVERCEL/485/kush/cliproxyapi-plusplus-worktree-6</code></li><li>Issues: #149 #147 #146 #145 #136 (CLIProxyAPIPlus)</li><li>Commit status: no commits created</li></ul><h2 id="per-issue-status" tabindex="-1">Per-Issue Status <a class="header-anchor" href="#per-issue-status" aria-label="Permalink to &quot;Per-Issue Status&quot;">​</a></h2><h3 id="_149-kiro-idc-刷新-token-失败" tabindex="-1">#149 - <code>kiro IDC 刷新 token 失败</code> <a class="header-anchor" href="#_149-kiro-idc-刷新-token-失败" aria-label="Permalink to &quot;#149 - `kiro IDC 刷新 token 失败`&quot;">​</a></h3><ul><li>Status: fixed in this lane with regression coverage</li><li>What was found: <ul><li>Kiro IDC refresh path returned coarse errors without response body context on non-200 responses.</li><li>Refresh handlers accepted successful responses with missing access token.</li><li>Some refresh responses may omit <code>refreshToken</code>; callers need safe fallback.</li></ul></li><li>Safe fix implemented: <ul><li>Standardized refresh failure errors to include HTTP status and trimmed response body when available.</li><li>Added explicit guard for missing <code>accessToken</code> in refresh success payloads.</li><li>Preserved original refresh token when provider refresh response omits <code>refreshToken</code>.</li></ul></li><li>Changed files: <ul><li><code>pkg/llmproxy/auth/kiro/sso_oidc.go</code></li><li><code>pkg/llmproxy/auth/kiro/sso_oidc_refresh_test.go</code></li></ul></li></ul><h3 id="_147-请求docker部署支持arm架构的机器-感谢。" tabindex="-1">#147 - <code>请求docker部署支持arm架构的机器！感谢。</code> <a class="header-anchor" href="#_147-请求docker部署支持arm架构的机器-感谢。" aria-label="Permalink to &quot;#147 - `请求docker部署支持arm架构的机器！感谢。`&quot;">​</a></h3><ul><li>Status: documentation fix completed in this lane</li><li>What was found: <ul><li>Install docs lacked explicit ARM64 run guidance and verification steps.</li></ul></li><li>Safe fix implemented: <ul><li>Added ARM64 Docker run example (<code>--platform linux/arm64</code>) and runtime architecture verification command.</li></ul></li><li>Changed files: <ul><li><code>docs/install.md</code></li></ul></li></ul><h3 id="_146-feature-request-请求增加-kiro-配额的展示功能" tabindex="-1">#146 - <code>[Feature Request] 请求增加 Kiro 配额的展示功能</code> <a class="header-anchor" href="#_146-feature-request-请求增加-kiro-配额的展示功能" aria-label="Permalink to &quot;#146 - `[Feature Request] 请求增加 Kiro 配额的展示功能`&quot;">​</a></h3><ul><li>Status: partial (documentation/operations guidance); feature implementation blocked</li><li>What was found: <ul><li>No dedicated unified Kiro quota dashboard endpoint was identified in current runtime surface.</li><li>Existing operator signal is provider metrics plus auth/runtime behavior.</li></ul></li><li>Safe fix implemented: <ul><li>Added explicit quota-visibility operations guidance and current limitation statement.</li></ul></li><li>Changed files: <ul><li><code>docs/provider-operations.md</code></li></ul></li><li>Blocker: <ul><li>Full issue resolution needs new product/API surface for explicit Kiro quota display, beyond safe localized patching.</li></ul></li></ul><h3 id="_145-bug-完善-openai兼容模式对-claude-模型的支持" tabindex="-1">#145 - <code>[Bug]完善 openai兼容模式对 claude 模型的支持</code> <a class="header-anchor" href="#_145-bug-完善-openai兼容模式对-claude-模型的支持" aria-label="Permalink to &quot;#145 - `[Bug]完善 openai兼容模式对 claude 模型的支持`&quot;">​</a></h3><ul><li>Status: docs hardening completed; no reproducible failing test in focused lane run</li><li>What was found: <ul><li>Focused executor tests pass; no immediate failing conversion case reproduced from local test set.</li></ul></li><li>Safe fix implemented: <ul><li>Added OpenAI-compatible Claude payload compatibility notes and troubleshooting guidance.</li></ul></li><li>Changed files: <ul><li><code>docs/api/openai-compatible.md</code></li></ul></li><li>Blocker: <ul><li>Full protocol conversion fix requires a reproducible failing payload/fixture from issue thread.</li></ul></li></ul><h3 id="_136-kiro-idc登录需要手动刷新状态" tabindex="-1">#136 - <code>kiro idc登录需要手动刷新状态</code> <a class="header-anchor" href="#_136-kiro-idc登录需要手动刷新状态" aria-label="Permalink to &quot;#136 - `kiro idc登录需要手动刷新状态`&quot;">​</a></h3><ul><li>Status: partial (ops guidance + related refresh hardening); full product workflow remains open</li><li>What was found: <ul><li>Existing runbook lacked explicit Kiro IDC status/refresh confirmation steps.</li><li>Related refresh resilience and diagnostics gap overlapped with #149.</li></ul></li><li>Safe fix implemented: <ul><li>Added Kiro IDC-specific symptom/fix entries and quick validation commands.</li><li>Included refresh handling hardening from #149 patch.</li></ul></li><li>Changed files: <ul><li><code>docs/operations/auth-refresh-failure-symptom-fix.md</code></li><li><code>pkg/llmproxy/auth/kiro/sso_oidc.go</code></li></ul></li><li>Blocker: <ul><li>A complete UX fix likely needs a dedicated status surface (API/UI) beyond lane-safe changes.</li></ul></li></ul><h2 id="test-evidence" tabindex="-1">Test Evidence <a class="header-anchor" href="#test-evidence" aria-label="Permalink to &quot;Test Evidence&quot;">​</a></h2><p>Commands run (focused):</p><ol><li><code>go test ./pkg/llmproxy/executor -run &#39;Kiro|iflow|OpenAI|Claude|Compat|oauth|refresh&#39; -count=1</code></li></ol><ul><li>Result: <code>ok github.com/router-for-me/CLIProxyAPI/v6/pkg/llmproxy/executor 1.117s</code></li></ul><ol start="2"><li><code>go test ./pkg/llmproxy/auth/iflow ./pkg/llmproxy/auth/kiro -count=1</code></li></ol><ul><li>Result: <ul><li><code>ok github.com/router-for-me/CLIProxyAPI/v6/pkg/llmproxy/auth/iflow 0.726s</code></li><li><code>ok github.com/router-for-me/CLIProxyAPI/v6/pkg/llmproxy/auth/kiro 2.040s</code></li></ul></li></ul><ol start="3"><li><code>go test ./pkg/llmproxy/auth/kiro -run &#39;RefreshToken|SSOOIDC|Token|OAuth&#39; -count=1</code></li></ol><ul><li>Result: <code>ok github.com/router-for-me/CLIProxyAPI/v6/pkg/llmproxy/auth/kiro 0.990s</code></li></ul><ol start="4"><li><code>go test ./pkg/llmproxy/executor -run &#39;OpenAICompat|Kiro|iflow|Claude&#39; -count=1</code></li></ol><ul><li>Result: <code>ok github.com/router-for-me/CLIProxyAPI/v6/pkg/llmproxy/executor 0.847s</code></li></ul><ol start="5"><li><code>go test ./test -run &#39;thinking|roo|builtin|amp&#39; -count=1</code></li></ol><ul><li>Result: <code>ok github.com/router-for-me/CLIProxyAPI/v6/test 0.771s [no tests to run]</code></li></ul><h2 id="files-changed-in-lane-6" tabindex="-1">Files Changed In Lane 6 <a class="header-anchor" href="#files-changed-in-lane-6" aria-label="Permalink to &quot;Files Changed In Lane 6&quot;">​</a></h2><ul><li><code>pkg/llmproxy/auth/kiro/sso_oidc.go</code></li><li><code>pkg/llmproxy/auth/kiro/sso_oidc_refresh_test.go</code></li><li><code>docs/install.md</code></li><li><code>docs/api/openai-compatible.md</code></li><li><code>docs/operations/auth-refresh-failure-symptom-fix.md</code></li><li><code>docs/provider-operations.md</code></li><li><code>docs/planning/reports/issue-wave-gh-35-lane-6.md</code></li></ul>',28)])])}const m=i(r,[["render",t]]);export{h as __pageData,m as default};
