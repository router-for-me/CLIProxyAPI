import{_ as o,o as l,c as i,ag as t}from"./chunks/framework.DM0yugQT.js";const m=JSON.parse('{"title":"Issue Wave Next32 - Lane 3 Report","description":"","frontmatter":{},"headers":[],"relativePath":"planning/reports/issue-wave-gh-next32-lane-3.md","filePath":"planning/reports/issue-wave-gh-next32-lane-3.md","lastUpdated":1771826874000}'),a={name:"planning/reports/issue-wave-gh-next32-lane-3.md"};function r(s,e,c,d,n,u){return l(),i("div",null,[...e[0]||(e[0]=[t('<h1 id="issue-wave-next32-lane-3-report" tabindex="-1">Issue Wave Next32 - Lane 3 Report <a class="header-anchor" href="#issue-wave-next32-lane-3-report" aria-label="Permalink to &quot;Issue Wave Next32 - Lane 3 Report&quot;">​</a></h1><p>Scope: <code>router-for-me/CLIProxyAPIPlus</code> issues <code>#147 #146 #145 #136 #133 #129</code> Worktree: <code>cliproxyapi-plusplus-wave-cpb-3</code></p><h2 id="per-issue-status" tabindex="-1">Per-Issue Status <a class="header-anchor" href="#per-issue-status" aria-label="Permalink to &quot;Per-Issue Status&quot;">​</a></h2><h3 id="_147" tabindex="-1">#147 <a class="header-anchor" href="#_147" aria-label="Permalink to &quot;#147&quot;">​</a></h3><ul><li>Status: <code>done</code></li><li>Notes: ARM64 deployment guidance and build path are validated.</li><li>Code/docs surface: <ul><li><code>docs/install.md</code></li><li><code>Dockerfile</code></li></ul></li><li>Acceptance command: <ul><li><code>rg -n &quot;platform linux/arm64|uname -m|arm64&quot; docs/install.md</code></li><li><code>CGO_ENABLED=0 GOOS=linux GOARCH=arm64 go build -o /tmp/cliproxy_arm64_check ./cmd/server</code></li></ul></li></ul><h3 id="_146" tabindex="-1">#146 <a class="header-anchor" href="#_146" aria-label="Permalink to &quot;#146&quot;">​</a></h3><ul><li>Status: <code>blocked</code></li><li>Notes: no deterministic failing fixture in current repo state that maps to a safe bounded patch; deferred to dedicated repro lane.</li></ul><h3 id="_145" tabindex="-1">#145 <a class="header-anchor" href="#_145" aria-label="Permalink to &quot;#145&quot;">​</a></h3><ul><li>Status: <code>done</code></li><li>Notes: issue is still <code>OPEN</code> upstream, but deterministic regression coverage for the exact OpenAI-compat payload path exists and passes in this tree.</li><li>Code/test surface: <ul><li><code>pkg/llmproxy/translator/kiro/claude/kiro_claude_request.go</code></li><li><code>pkg/llmproxy/translator/kiro/claude/kiro_claude_request_test.go</code></li></ul></li><li>Evidence command: <ul><li><code>go test ./pkg/llmproxy/translator/kiro/claude -run &#39;TestBuildKiroPayload_OpenAICompatIssue145Payload&#39; -count=1</code></li><li>Result: <code>ok github.com/router-for-me/CLIProxyAPI/v6/pkg/llmproxy/translator/kiro/claude 0.523s</code></li></ul></li></ul><h3 id="_136" tabindex="-1">#136 <a class="header-anchor" href="#_136" aria-label="Permalink to &quot;#136&quot;">​</a></h3><ul><li>Status: <code>blocked</code></li><li>Notes: low-risk refresh hardening exists, but full &quot;no manual refresh needed&quot; closure requires dedicated product status surface/API workflow not present in this repo lane.</li><li>Code surface validated: <ul><li><code>pkg/llmproxy/auth/kiro/sso_oidc.go</code></li></ul></li><li>Acceptance command: <ul><li><code>go test ./pkg/llmproxy/auth/kiro -run &#39;RefreshToken|SSOOIDC|Token|OAuth&#39; -count=1</code></li><li>Result: <code>ok github.com/router-for-me/CLIProxyAPI/v6/pkg/llmproxy/auth/kiro</code></li></ul></li></ul><h3 id="_133" tabindex="-1">#133 <a class="header-anchor" href="#_133" aria-label="Permalink to &quot;#133&quot;">​</a></h3><ul><li>Status: <code>blocked</code></li><li>Notes: issue is still <code>OPEN</code>; current deterministic evidence shows config/normalization support for <code>fill-first</code>, but no direct request-routing behavior proof in this lane for the reported runtime symptom.</li><li>Code/test surface: <ul><li><code>pkg/llmproxy/api/handlers/management/config_basic.go</code></li><li><code>pkg/llmproxy/api/handlers/management/config_basic_routing_test.go</code></li></ul></li><li>Evidence command: <ul><li><code>rg -n &quot;fill-first|Test.*Fill|TestNormalizeRoutingStrategy_AcceptsFillFirstAliases&quot; pkg/llmproxy | head -n 80</code></li><li>Result: shows <code>fill-first</code> normalization/config coverage (for example <code>config_basic_routing_test.go:5</code>) but no deterministic end-to-end routing-behavior proof.</li></ul></li></ul><h3 id="_129" tabindex="-1">#129 <a class="header-anchor" href="#_129" aria-label="Permalink to &quot;#129&quot;">​</a></h3><ul><li>Status: <code>done</code></li><li>Notes: cloud deploy config-path fallback support is present and passing focused package tests.</li><li>Code surface validated: <ul><li><code>cmd/server/config_path.go</code></li><li><code>cmd/server/config_path_test.go</code></li><li><code>cmd/server/main.go</code></li></ul></li><li>Acceptance command: <ul><li><code>go test ./cmd/server -count=1</code></li><li>Result: <code>ok github.com/router-for-me/CLIProxyAPI/v6/cmd/server</code></li></ul></li></ul><h3 id="wave2-221-kiro账号被封" tabindex="-1">Wave2 #221 - <code>kiro账号被封</code> <a class="header-anchor" href="#wave2-221-kiro账号被封" aria-label="Permalink to &quot;Wave2 #221 - `kiro账号被封`&quot;">​</a></h3><ul><li>Status: <code>implemented</code></li><li>Source mapping: <ul><li>Source issue: <code>router-for-me/CLIProxyAPIPlus#221</code> (Kiro account banned handling)</li><li>Fix: broaden Kiro 403 suspension detection to case-insensitive suspended/banned signals so banned accounts consistently trigger cooldown + remediation messaging in both non-stream and stream paths.</li><li>Code: <code>pkg/llmproxy/runtime/executor/kiro_executor.go</code></li><li>Tests: <code>pkg/llmproxy/runtime/executor/kiro_executor_extra_test.go</code></li></ul></li><li>Test commands: <ul><li><code>go test ./pkg/llmproxy/runtime/executor -run &#39;Test(IsKiroSuspendedOrBannedResponse|FormatKiroCooldownError|FormatKiroSuspendedStatusMessage)&#39; -count=1</code></li><li>Result: blocked by pre-existing package build failures in <code>pkg/llmproxy/runtime/executor/codex_websockets_executor.go</code> (<code>unused imports</code>, <code>undefined: authID</code>, <code>undefined: wsURL</code>).</li></ul></li></ul><h2 id="focused-checks" tabindex="-1">Focused Checks <a class="header-anchor" href="#focused-checks" aria-label="Permalink to &quot;Focused Checks&quot;">​</a></h2><ul><li><code>rg -n &quot;platform linux/arm64|uname -m|arm64&quot; docs/install.md</code></li><li><code>go test ./pkg/llmproxy/auth/kiro -run &#39;RefreshToken|SSOOIDC|Token|OAuth&#39; -count=1</code></li><li><code>go test ./cmd/server -count=1</code></li></ul><h2 id="blockers" tabindex="-1">Blockers <a class="header-anchor" href="#blockers" aria-label="Permalink to &quot;Blockers&quot;">​</a></h2><ul><li><code>#133</code>: missing deterministic runtime proof for fill-first behavior beyond normalization-level coverage.</li></ul>',21)])])}const h=o(a,[["render",r]]);export{m as __pageData,h as default};
