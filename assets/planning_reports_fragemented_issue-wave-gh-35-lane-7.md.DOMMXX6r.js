import{_ as i,o as l,c as o,ag as t}from"./chunks/framework.DM0yugQT.js";const p=JSON.parse('{"title":"Issue Wave GH-35 Lane 7 Report","description":"","frontmatter":{},"headers":[],"relativePath":"planning/reports/fragemented/issue-wave-gh-35-lane-7.md","filePath":"planning/reports/fragemented/issue-wave-gh-35-lane-7.md","lastUpdated":1771764024000}'),a={name:"planning/reports/fragemented/issue-wave-gh-35-lane-7.md"};function r(s,e,c,d,n,u){return l(),o("div",null,[...e[0]||(e[0]=[t('<h1 id="issue-wave-gh-35-lane-7-report" tabindex="-1">Issue Wave GH-35 Lane 7 Report <a class="header-anchor" href="#issue-wave-gh-35-lane-7-report" aria-label="Permalink to &quot;Issue Wave GH-35 Lane 7 Report&quot;">​</a></h1><h2 id="scope" tabindex="-1">Scope <a class="header-anchor" href="#scope" aria-label="Permalink to &quot;Scope&quot;">​</a></h2><ul><li>Lane: 7 (<code>cliproxyapi-plusplus-worktree-7</code>)</li><li>Issues: #133, #129, #125, #115, #111</li><li>Objective: inspect, implement safe fixes where feasible, run focused Go tests, and record blockers.</li></ul><h2 id="per-issue-status" tabindex="-1">Per-Issue Status <a class="header-anchor" href="#per-issue-status" aria-label="Permalink to &quot;Per-Issue Status&quot;">​</a></h2><h3 id="_133-routing-strategy-fill-first-is-not-working-as-expected" tabindex="-1">#133 Routing strategy &quot;fill-first&quot; is not working as expected <a class="header-anchor" href="#_133-routing-strategy-fill-first-is-not-working-as-expected" aria-label="Permalink to &quot;#133 Routing strategy &quot;fill-first&quot; is not working as expected&quot;">​</a></h3><ul><li>Status: <code>PARTIAL (safe normalization + compatibility hardening)</code></li><li>Findings: <ul><li>Runtime selector switching already exists in <code>sdk/cliproxy</code> startup/reload paths.</li><li>A common config spelling mismatch (<code>fill_first</code> vs <code>fill-first</code>) was not normalized consistently.</li></ul></li><li>Fixes: <ul><li>Added underscore-compatible normalization for routing strategy in management + runtime startup/reload.</li></ul></li><li>Changed files: <ul><li><code>pkg/llmproxy/api/handlers/management/config_basic.go</code></li><li><code>sdk/cliproxy/builder.go</code></li><li><code>sdk/cliproxy/service.go</code></li></ul></li><li>Notes: <ul><li>This improves compatibility and removes one likely reason users observe &quot;fill-first not applied&quot;.</li><li>Live behavioral validation against multi-credential traffic is still required.</li></ul></li></ul><h3 id="_129-cliproxyapiplus-clawcloud-cloud-deploy-config-file-not-found" tabindex="-1">#129 CLIProxyApiPlus ClawCloud cloud deploy config file not found <a class="header-anchor" href="#_129-cliproxyapiplus-clawcloud-cloud-deploy-config-file-not-found" aria-label="Permalink to &quot;#129 CLIProxyApiPlus ClawCloud cloud deploy config file not found&quot;">​</a></h3><ul><li>Status: <code>DONE (safe fallback path discovery)</code></li><li>Findings: <ul><li>Default startup path was effectively strict (<code>&lt;wd&gt;/config.yaml</code>) when <code>--config</code> is not passed.</li><li>Cloud/container layouts often mount config in nested or platform-specific paths.</li></ul></li><li>Fixes: <ul><li>Added cloud-aware config discovery helper with ordered fallback candidates and env overrides.</li><li>Wired main startup path resolution to this helper.</li></ul></li><li>Changed files: <ul><li><code>cmd/server/main.go</code></li><li><code>cmd/server/config_path.go</code></li><li><code>cmd/server/config_path_test.go</code></li></ul></li></ul><h3 id="_125-error-403-gemini-code-assist-license-subscription-required" tabindex="-1">#125 Error 403 (Gemini Code Assist license / subscription required) <a class="header-anchor" href="#_125-error-403-gemini-code-assist-license-subscription-required" aria-label="Permalink to &quot;#125 Error 403 (Gemini Code Assist license / subscription required)&quot;">​</a></h3><ul><li>Status: <code>DONE (actionable error diagnostics)</code></li><li>Findings: <ul><li>Antigravity upstream 403 bodies were returned raw, without direct remediation guidance.</li></ul></li><li>Fixes: <ul><li>Added Antigravity 403 message enrichment for known subscription/license denial patterns.</li><li>Added helper-based status error construction and tests.</li></ul></li><li>Changed files: <ul><li><code>pkg/llmproxy/executor/antigravity_executor.go</code></li><li><code>pkg/llmproxy/executor/antigravity_executor_error_test.go</code></li></ul></li></ul><h3 id="_115-kiro-aws-login-登录后一直封号" tabindex="-1">#115 -kiro-aws-login 登录后一直封号 <a class="header-anchor" href="#_115-kiro-aws-login-登录后一直封号" aria-label="Permalink to &quot;#115 -kiro-aws-login 登录后一直封号&quot;">​</a></h3><ul><li>Status: <code>PARTIAL (safer troubleshooting guidance)</code></li><li>Findings: <ul><li>Root cause is upstream/account policy behavior (AWS/Identity Center), not locally fixable in code path alone.</li></ul></li><li>Fixes: <ul><li>Added targeted CLI troubleshooting branch for AWS access portal sign-in failure signatures.</li><li>Guidance now recommends cautious retry and auth-code fallback to reduce repeated failing attempts.</li></ul></li><li>Changed files: <ul><li><code>pkg/llmproxy/cmd/kiro_login.go</code></li><li><code>pkg/llmproxy/cmd/kiro_login_test.go</code></li></ul></li></ul><h3 id="_111-antigravity-authentication-failed-callback-server-bind-access-permissions" tabindex="-1">#111 Antigravity authentication failed (callback server bind/access permissions) <a class="header-anchor" href="#_111-antigravity-authentication-failed-callback-server-bind-access-permissions" aria-label="Permalink to &quot;#111 Antigravity authentication failed (callback server bind/access permissions)&quot;">​</a></h3><ul><li>Status: <code>DONE (clear remediation hint)</code></li><li>Findings: <ul><li>Callback bind failures returned generic error text.</li></ul></li><li>Fixes: <ul><li>Added callback server error formatter to detect common bind-denied / port-in-use cases.</li><li>Error now explicitly suggests <code>--oauth-callback-port &lt;free-port&gt;</code>.</li></ul></li><li>Changed files: <ul><li><code>sdk/auth/antigravity.go</code></li><li><code>sdk/auth/antigravity_error_test.go</code></li></ul></li></ul><h2 id="focused-test-evidence" tabindex="-1">Focused Test Evidence <a class="header-anchor" href="#focused-test-evidence" aria-label="Permalink to &quot;Focused Test Evidence&quot;">​</a></h2><ul><li><code>go test ./cmd/server</code><ul><li><code>ok github.com/router-for-me/CLIProxyAPI/v6/cmd/server 2.258s</code></li></ul></li><li><code>go test ./pkg/llmproxy/cmd</code><ul><li><code>ok github.com/router-for-me/CLIProxyAPI/v6/pkg/llmproxy/cmd 0.724s</code></li></ul></li><li><code>go test ./sdk/auth</code><ul><li><code>ok github.com/router-for-me/CLIProxyAPI/v6/sdk/auth 0.656s</code></li></ul></li><li><code>go test ./pkg/llmproxy/executor ./sdk/cliproxy</code><ul><li><code>ok github.com/router-for-me/CLIProxyAPI/v6/pkg/llmproxy/executor 1.671s</code></li><li><code>ok github.com/router-for-me/CLIProxyAPI/v6/sdk/cliproxy 0.717s</code></li></ul></li></ul><h2 id="all-changed-files" tabindex="-1">All Changed Files <a class="header-anchor" href="#all-changed-files" aria-label="Permalink to &quot;All Changed Files&quot;">​</a></h2><ul><li><code>cmd/server/main.go</code></li><li><code>cmd/server/config_path.go</code></li><li><code>cmd/server/config_path_test.go</code></li><li><code>pkg/llmproxy/api/handlers/management/config_basic.go</code></li><li><code>pkg/llmproxy/cmd/kiro_login.go</code></li><li><code>pkg/llmproxy/cmd/kiro_login_test.go</code></li><li><code>pkg/llmproxy/executor/antigravity_executor.go</code></li><li><code>pkg/llmproxy/executor/antigravity_executor_error_test.go</code></li><li><code>sdk/auth/antigravity.go</code></li><li><code>sdk/auth/antigravity_error_test.go</code></li><li><code>sdk/cliproxy/builder.go</code></li><li><code>sdk/cliproxy/service.go</code></li></ul><h2 id="blockers-follow-ups" tabindex="-1">Blockers / Follow-ups <a class="header-anchor" href="#blockers-follow-ups" aria-label="Permalink to &quot;Blockers / Follow-ups&quot;">​</a></h2><ul><li>External-provider dependencies prevent deterministic local reproduction of: <ul><li>Kiro AWS account lock/suspension behavior (<code>#115</code>)</li><li>Antigravity license entitlement state (<code>#125</code>)</li></ul></li><li>Recommended follow-up validation in staging: <ul><li>Cloud deploy startup on ClawCloud with mounted config variants.</li><li>Fill-first behavior with &gt;=2 credentials under same provider/model.</li></ul></li></ul>',20)])])}const h=i(a,[["render",r]]);export{p as __pageData,h as default};
