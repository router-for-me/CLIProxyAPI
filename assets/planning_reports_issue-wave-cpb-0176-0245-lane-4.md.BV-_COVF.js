import{_ as o,o as i,c as t,ag as a}from"./chunks/framework.DM0yugQT.js";const m=JSON.parse('{"title":"Issue Wave CPB-0176..0245 Lane 4 Report","description":"","frontmatter":{},"headers":[],"relativePath":"planning/reports/issue-wave-cpb-0176-0245-lane-4.md","filePath":"planning/reports/issue-wave-cpb-0176-0245-lane-4.md","lastUpdated":1771814562000}'),n={name:"planning/reports/issue-wave-cpb-0176-0245-lane-4.md"};function l(r,e,s,d,c,u){return i(),t("div",null,[...e[0]||(e[0]=[a('<h1 id="issue-wave-cpb-0176-0245-lane-4-report" tabindex="-1">Issue Wave CPB-0176..0245 Lane 4 Report <a class="header-anchor" href="#issue-wave-cpb-0176-0245-lane-4-report" aria-label="Permalink to &quot;Issue Wave CPB-0176..0245 Lane 4 Report&quot;">​</a></h1><h2 id="scope" tabindex="-1">Scope <a class="header-anchor" href="#scope" aria-label="Permalink to &quot;Scope&quot;">​</a></h2><ul><li>Lane: lane-4</li><li>Worktree: <code>/Users/kooshapari/temp-PRODVERCEL/485/kush/cliproxyapi-plusplus-wave-cpb4-4</code></li><li>Window: <code>CPB-0206</code> to <code>CPB-0215</code></li></ul><h2 id="status-snapshot" tabindex="-1">Status Snapshot <a class="header-anchor" href="#status-snapshot" aria-label="Permalink to &quot;Status Snapshot&quot;">​</a></h2><ul><li><code>planned</code>: 0</li><li><code>implemented</code>: 2</li><li><code>in_progress</code>: 8</li><li><code>blocked</code>: 0</li></ul><h2 id="per-item-status" tabindex="-1">Per-Item Status <a class="header-anchor" href="#per-item-status" aria-label="Permalink to &quot;Per-Item Status&quot;">​</a></h2><h3 id="cpb-0206-–-expand-docs-and-examples-for-feature-request-add-support-for-claude-opus-4-6-with-copy-paste-quickstart-and-troubleshooting-section" tabindex="-1">CPB-0206 – Expand docs and examples for &quot;Feature request: Add support for claude opus 4.6&quot; with copy-paste quickstart and troubleshooting section. <a class="header-anchor" href="#cpb-0206-–-expand-docs-and-examples-for-feature-request-add-support-for-claude-opus-4-6-with-copy-paste-quickstart-and-troubleshooting-section" aria-label="Permalink to &quot;CPB-0206 – Expand docs and examples for &quot;Feature request: Add support for claude opus 4.6&quot; with copy-paste quickstart and troubleshooting section.&quot;">​</a></h3><ul><li>Status: <code>implemented</code></li><li>Theme: <code>install-and-ops</code></li><li>Source: <code>https://github.com/router-for-me/CLIProxyAPI/issues/1439</code></li><li>Delivered: <ul><li>Added explicit Opus 4.6 non-stream quickstart sanity request.</li><li>Added Opus 4.6 streaming parity check command.</li><li>Added troubleshooting matrix entry for missing/invalid <code>claude-opus-4-6</code> mapping with concrete diagnostics and remediation.</li></ul></li><li>Files: <ul><li><code>docs/provider-quickstarts.md</code></li><li><code>docs/troubleshooting.md</code></li></ul></li><li>Verification commands: <ul><li><code>rg -n &quot;Opus 4.6 quickstart sanity check|claude-opus-4-6|streaming parity check&quot; docs/provider-quickstarts.md docs/troubleshooting.md</code></li></ul></li></ul><h3 id="cpb-0207-–-define-non-subprocess-integration-path-related-to-feature-request-add-support-for-perplexity-go-bindings-surface-http-fallback-contract-version-negotiation" tabindex="-1">CPB-0207 – Define non-subprocess integration path related to &quot;Feature request: Add support for perplexity&quot; (Go bindings surface + HTTP fallback contract + version negotiation). <a class="header-anchor" href="#cpb-0207-–-define-non-subprocess-integration-path-related-to-feature-request-add-support-for-perplexity-go-bindings-surface-http-fallback-contract-version-negotiation" aria-label="Permalink to &quot;CPB-0207 – Define non-subprocess integration path related to &quot;Feature request: Add support for perplexity&quot; (Go bindings surface + HTTP fallback contract + version negotiation).&quot;">​</a></h3><ul><li>Status: <code>in_progress</code></li><li>Theme: <code>integration-api-bindings</code></li><li>Source: <code>https://github.com/router-for-me/CLIProxyAPI/issues/1438</code></li><li>Rationale: <ul><li>Item remains <code>proposed</code> in the 1000-item execution board.</li><li>Requires implementation-ready acceptance criteria and target-path verification before execution.</li></ul></li><li>Proposed verification commands: <ul><li><code>rg -n &quot;CPB-0207&quot; docs/planning/CLIPROXYAPI_1000_ITEM_BOARD_2026-02-22.csv docs/planning/CLIPROXYAPI_2000_ITEM_EXECUTION_BOARD_2026-02-22.csv</code></li><li><code>go test ./pkg/llmproxy/api ./pkg/llmproxy/thinking</code> (if implementation touches those surfaces)</li></ul></li><li>Next action: add reproducible payload/regression case, then implement in assigned workstream.</li></ul><h3 id="cpb-0208-–-refactor-implementation-behind-iflow-kimi-k2-5-无法正常统计消耗的token数-一直是0-to-reduce-complexity-and-isolate-transformation-boundaries" tabindex="-1">CPB-0208 – Refactor implementation behind &quot;iflow kimi-k2.5 无法正常统计消耗的token数，一直是0&quot; to reduce complexity and isolate transformation boundaries. <a class="header-anchor" href="#cpb-0208-–-refactor-implementation-behind-iflow-kimi-k2-5-无法正常统计消耗的token数-一直是0-to-reduce-complexity-and-isolate-transformation-boundaries" aria-label="Permalink to &quot;CPB-0208 – Refactor implementation behind &quot;iflow kimi-k2.5 无法正常统计消耗的token数，一直是0&quot; to reduce complexity and isolate transformation boundaries.&quot;">​</a></h3><ul><li>Status: <code>implemented</code></li><li>Theme: <code>thinking-and-reasoning</code></li><li>Source: <code>https://github.com/router-for-me/CLIProxyAPI/issues/1437</code></li><li>Delivered: <ul><li>Added usage total-token fallback aggregation when top-level <code>usage.total_tokens</code> is <code>0</code>/missing.</li><li>Added detail-level token normalization for both nested <code>tokens.*</code> and flat fields (<code>prompt_tokens</code>, <code>completion_tokens</code>, etc.).</li><li>Added focused unit tests for fallback resolution and breakdown merging behavior.</li></ul></li><li>Files: <ul><li><code>pkg/llmproxy/tui/usage_tab.go</code></li><li><code>pkg/llmproxy/tui/usage_tab_test.go</code></li></ul></li><li>Verification commands: <ul><li><code>go test ./pkg/llmproxy/tui -run &#39;TestResolveUsageTotalTokens|TestUsageTokenBreakdown&#39; -count=1</code></li></ul></li></ul><h3 id="cpb-0209-–-port-relevant-thegent-managed-flow-implied-by-bug-invalid-json-payload-with-large-requests-290kb-truncated-body-into-first-class-cliproxy-go-cli-command-s-with-interactive-setup-support" tabindex="-1">CPB-0209 – Port relevant thegent-managed flow implied by &quot;[BUG] Invalid JSON payload with large requests (~290KB) - truncated body&quot; into first-class cliproxy Go CLI command(s) with interactive setup support. <a class="header-anchor" href="#cpb-0209-–-port-relevant-thegent-managed-flow-implied-by-bug-invalid-json-payload-with-large-requests-290kb-truncated-body-into-first-class-cliproxy-go-cli-command-s-with-interactive-setup-support" aria-label="Permalink to &quot;CPB-0209 – Port relevant thegent-managed flow implied by &quot;[BUG] Invalid JSON payload with large requests (~290KB) - truncated body&quot; into first-class cliproxy Go CLI command(s) with interactive setup support.&quot;">​</a></h3><ul><li>Status: <code>in_progress</code></li><li>Theme: <code>go-cli-extraction</code></li><li>Source: <code>https://github.com/router-for-me/CLIProxyAPI/issues/1433</code></li><li>Rationale: <ul><li>Item remains <code>proposed</code> in the 1000-item execution board.</li><li>Requires implementation-ready acceptance criteria and target-path verification before execution.</li></ul></li><li>Proposed verification commands: <ul><li><code>rg -n &quot;CPB-0209&quot; docs/planning/CLIPROXYAPI_1000_ITEM_BOARD_2026-02-22.csv docs/planning/CLIPROXYAPI_2000_ITEM_EXECUTION_BOARD_2026-02-22.csv</code></li><li><code>go test ./pkg/llmproxy/api ./pkg/llmproxy/thinking</code> (if implementation touches those surfaces)</li></ul></li><li>Next action: add reproducible payload/regression case, then implement in assigned workstream.</li></ul><h3 id="cpb-0210-–-standardize-metadata-and-naming-conventions-touched-by-希望支持国产模型如glm-kimi-minimax-的-proxy-across-both-repos" tabindex="-1">CPB-0210 – Standardize metadata and naming conventions touched by &quot;希望支持国产模型如glm kimi minimax 的 proxy&quot; across both repos. <a class="header-anchor" href="#cpb-0210-–-standardize-metadata-and-naming-conventions-touched-by-希望支持国产模型如glm-kimi-minimax-的-proxy-across-both-repos" aria-label="Permalink to &quot;CPB-0210 – Standardize metadata and naming conventions touched by &quot;希望支持国产模型如glm kimi minimax 的 proxy&quot; across both repos.&quot;">​</a></h3><ul><li>Status: <code>in_progress</code></li><li>Theme: <code>general-polish</code></li><li>Source: <code>https://github.com/router-for-me/CLIProxyAPI/issues/1432</code></li><li>Rationale: <ul><li>Item remains <code>proposed</code> in the 1000-item execution board.</li><li>Requires implementation-ready acceptance criteria and target-path verification before execution.</li></ul></li><li>Proposed verification commands: <ul><li><code>rg -n &quot;CPB-0210&quot; docs/planning/CLIPROXYAPI_1000_ITEM_BOARD_2026-02-22.csv docs/planning/CLIPROXYAPI_2000_ITEM_EXECUTION_BOARD_2026-02-22.csv</code></li><li><code>go test ./pkg/llmproxy/...</code> (if implementation touches those surfaces)</li></ul></li><li>Next action: add reproducible payload/regression case, then implement in assigned workstream.</li></ul><h3 id="cpb-0211-–-follow-up-on-关闭某个认证文件后没有持久化处理-by-closing-compatibility-gaps-and-preventing-regressions-in-adjacent-providers" tabindex="-1">CPB-0211 – Follow up on &quot;关闭某个认证文件后没有持久化处理&quot; by closing compatibility gaps and preventing regressions in adjacent providers. <a class="header-anchor" href="#cpb-0211-–-follow-up-on-关闭某个认证文件后没有持久化处理-by-closing-compatibility-gaps-and-preventing-regressions-in-adjacent-providers" aria-label="Permalink to &quot;CPB-0211 – Follow up on &quot;关闭某个认证文件后没有持久化处理&quot; by closing compatibility gaps and preventing regressions in adjacent providers.&quot;">​</a></h3><ul><li>Status: <code>in_progress</code></li><li>Theme: <code>general-polish</code></li><li>Source: <code>https://github.com/router-for-me/CLIProxyAPI/issues/1431</code></li><li>Rationale: <ul><li>Item remains <code>proposed</code> in the 1000-item execution board.</li><li>Requires implementation-ready acceptance criteria and target-path verification before execution.</li></ul></li><li>Proposed verification commands: <ul><li><code>rg -n &quot;CPB-0211&quot; docs/planning/CLIPROXYAPI_1000_ITEM_BOARD_2026-02-22.csv docs/planning/CLIPROXYAPI_2000_ITEM_EXECUTION_BOARD_2026-02-22.csv</code></li><li><code>go test ./pkg/llmproxy/api ./pkg/llmproxy/thinking</code> (if implementation touches those surfaces)</li></ul></li><li>Next action: add reproducible payload/regression case, then implement in assigned workstream.</li></ul><h3 id="cpb-0212-–-harden-v6-7-47-接入智谱-plan-计划后请求报错-with-clearer-validation-safer-defaults-and-defensive-fallbacks" tabindex="-1">CPB-0212 – Harden &quot;[v6.7.47] 接入智谱 Plan 计划后请求报错&quot; with clearer validation, safer defaults, and defensive fallbacks. <a class="header-anchor" href="#cpb-0212-–-harden-v6-7-47-接入智谱-plan-计划后请求报错-with-clearer-validation-safer-defaults-and-defensive-fallbacks" aria-label="Permalink to &quot;CPB-0212 – Harden &quot;[v6.7.47] 接入智谱 Plan 计划后请求报错&quot; with clearer validation, safer defaults, and defensive fallbacks.&quot;">​</a></h3><ul><li>Status: <code>in_progress</code></li><li>Theme: <code>responses-and-chat-compat</code></li><li>Source: <code>https://github.com/router-for-me/CLIProxyAPI/issues/1430</code></li><li>Rationale: <ul><li>Item remains <code>proposed</code> in the 1000-item execution board.</li><li>Requires implementation-ready acceptance criteria and target-path verification before execution.</li></ul></li><li>Proposed verification commands: <ul><li><code>rg -n &quot;CPB-0212&quot; docs/planning/CLIPROXYAPI_1000_ITEM_BOARD_2026-02-22.csv docs/planning/CLIPROXYAPI_2000_ITEM_EXECUTION_BOARD_2026-02-22.csv</code></li><li><code>go test ./pkg/llmproxy/api ./pkg/llmproxy/thinking</code> (if implementation touches those surfaces)</li></ul></li><li>Next action: add reproducible payload/regression case, then implement in assigned workstream.</li></ul><h3 id="cpb-0213-–-operationalize-大佬能不能把使用统计数据持久化-with-observability-alerting-thresholds-and-runbook-updates" tabindex="-1">CPB-0213 – Operationalize &quot;大佬能不能把使用统计数据持久化？&quot; with observability, alerting thresholds, and runbook updates. <a class="header-anchor" href="#cpb-0213-–-operationalize-大佬能不能把使用统计数据持久化-with-observability-alerting-thresholds-and-runbook-updates" aria-label="Permalink to &quot;CPB-0213 – Operationalize &quot;大佬能不能把使用统计数据持久化？&quot; with observability, alerting thresholds, and runbook updates.&quot;">​</a></h3><ul><li>Status: <code>in_progress</code></li><li>Theme: <code>general-polish</code></li><li>Source: <code>https://github.com/router-for-me/CLIProxyAPI/issues/1427</code></li><li>Rationale: <ul><li>Item remains <code>proposed</code> in the 1000-item execution board.</li><li>Requires implementation-ready acceptance criteria and target-path verification before execution.</li></ul></li><li>Proposed verification commands: <ul><li><code>rg -n &quot;CPB-0213&quot; docs/planning/CLIPROXYAPI_1000_ITEM_BOARD_2026-02-22.csv docs/planning/CLIPROXYAPI_2000_ITEM_EXECUTION_BOARD_2026-02-22.csv</code></li><li><code>go test ./pkg/llmproxy/api ./pkg/llmproxy/thinking</code> (if implementation touches those surfaces)</li></ul></li><li>Next action: add reproducible payload/regression case, then implement in assigned workstream.</li></ul><h3 id="cpb-0214-–-convert-bug-使用-google-官方-python-sdk时思考设置无法生效-into-a-provider-agnostic-pattern-and-codify-in-shared-translation-utilities" tabindex="-1">CPB-0214 – Convert &quot;[BUG] 使用 Google 官方 Python SDK时思考设置无法生效&quot; into a provider-agnostic pattern and codify in shared translation utilities. <a class="header-anchor" href="#cpb-0214-–-convert-bug-使用-google-官方-python-sdk时思考设置无法生效-into-a-provider-agnostic-pattern-and-codify-in-shared-translation-utilities" aria-label="Permalink to &quot;CPB-0214 – Convert &quot;[BUG] 使用 Google 官方 Python SDK时思考设置无法生效&quot; into a provider-agnostic pattern and codify in shared translation utilities.&quot;">​</a></h3><ul><li>Status: <code>in_progress</code></li><li>Theme: <code>thinking-and-reasoning</code></li><li>Source: <code>https://github.com/router-for-me/CLIProxyAPI/issues/1426</code></li><li>Rationale: <ul><li>Item remains <code>proposed</code> in the 1000-item execution board.</li><li>Requires implementation-ready acceptance criteria and target-path verification before execution.</li></ul></li><li>Proposed verification commands: <ul><li><code>rg -n &quot;CPB-0214&quot; docs/planning/CLIPROXYAPI_1000_ITEM_BOARD_2026-02-22.csv docs/planning/CLIPROXYAPI_2000_ITEM_EXECUTION_BOARD_2026-02-22.csv</code></li><li><code>go test ./pkg/llmproxy/api ./pkg/llmproxy/thinking</code> (if implementation touches those surfaces)</li></ul></li><li>Next action: add reproducible payload/regression case, then implement in assigned workstream.</li></ul><h3 id="cpb-0215-–-add-dx-polish-around-bug-claude-→-gemini-translation-fails-due-to-unsupported-json-schema-fields-id-patternproperties-through-improved-command-ergonomics-and-faster-feedback-loops" tabindex="-1">CPB-0215 – Add DX polish around &quot;bug: Claude → Gemini translation fails due to unsupported JSON Schema fields ($id, patternProperties)&quot; through improved command ergonomics and faster feedback loops. <a class="header-anchor" href="#cpb-0215-–-add-dx-polish-around-bug-claude-→-gemini-translation-fails-due-to-unsupported-json-schema-fields-id-patternproperties-through-improved-command-ergonomics-and-faster-feedback-loops" aria-label="Permalink to &quot;CPB-0215 – Add DX polish around &quot;bug: Claude → Gemini translation fails due to unsupported JSON Schema fields ($id, patternProperties)&quot; through improved command ergonomics and faster feedback loops.&quot;">​</a></h3><ul><li>Status: <code>in_progress</code></li><li>Theme: <code>thinking-and-reasoning</code></li><li>Source: <code>https://github.com/router-for-me/CLIProxyAPI/issues/1424</code></li><li>Rationale: <ul><li>Item remains <code>proposed</code> in the 1000-item execution board.</li><li>Requires implementation-ready acceptance criteria and target-path verification before execution.</li></ul></li><li>Proposed verification commands: <ul><li><code>rg -n &quot;CPB-0215&quot; docs/planning/CLIPROXYAPI_1000_ITEM_BOARD_2026-02-22.csv docs/planning/CLIPROXYAPI_2000_ITEM_EXECUTION_BOARD_2026-02-22.csv</code></li><li><code>go test ./pkg/llmproxy/api ./pkg/llmproxy/thinking</code> (if implementation touches those surfaces)</li></ul></li><li>Next action: add reproducible payload/regression case, then implement in assigned workstream.</li></ul><h2 id="evidence-commands-run" tabindex="-1">Evidence &amp; Commands Run <a class="header-anchor" href="#evidence-commands-run" aria-label="Permalink to &quot;Evidence &amp; Commands Run&quot;">​</a></h2><ul><li><code>rg -n &quot;Opus 4.6 quickstart sanity check|claude-opus-4-6|streaming parity check&quot; docs/provider-quickstarts.md docs/troubleshooting.md</code></li><li><code>go test ./pkg/llmproxy/tui -run &#39;TestResolveUsageTotalTokens|TestUsageTokenBreakdown&#39; -count=1</code></li><li><code>go test ./pkg/llmproxy/util -run &#39;TestCleanJSONSchemaForGemini_RemovesGeminiUnsupportedMetadataFields&#39; -count=1</code></li></ul><h2 id="next-actions" tabindex="-1">Next Actions <a class="header-anchor" href="#next-actions" aria-label="Permalink to &quot;Next Actions&quot;">​</a></h2><ul><li>Continue CPB-0207..0215 remaining <code>in_progress</code> items with same pattern: concrete code/docs change + focused test evidence.</li></ul>',30)])])}const h=o(n,[["render",l]]);export{m as __pageData,h as default};
