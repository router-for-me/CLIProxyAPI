import{_ as l,o as a,c as i,ag as o}from"./chunks/framework.DM0yugQT.js";const g=JSON.parse('{"title":"Issue Wave GH-35 - Lane 3 Report","description":"","frontmatter":{},"headers":[],"relativePath":"planning/reports/fragemented/issue-wave-gh-35-lane-3.md","filePath":"planning/reports/fragemented/issue-wave-gh-35-lane-3.md","lastUpdated":1771764024000}'),t={name:"planning/reports/fragemented/issue-wave-gh-35-lane-3.md"};function r(n,e,s,d,c,u){return a(),i("div",null,[...e[0]||(e[0]=[o('<h1 id="issue-wave-gh-35-lane-3-report" tabindex="-1">Issue Wave GH-35 - Lane 3 Report <a class="header-anchor" href="#issue-wave-gh-35-lane-3-report" aria-label="Permalink to &quot;Issue Wave GH-35 - Lane 3 Report&quot;">​</a></h1><h2 id="scope" tabindex="-1">Scope <a class="header-anchor" href="#scope" aria-label="Permalink to &quot;Scope&quot;">​</a></h2><ul><li>Issue #213 - Add support for proxying models from kilocode CLI</li><li>Issue #210 - [Bug] Kiro 与 Ampcode 的 Bash 工具参数不兼容</li><li>Issue #206 - Nullable type arrays in tool schemas cause 400 on Antigravity/Droid Factory</li><li>Issue #201 - failed to save config: open /CLIProxyAPI/config.yaml: read-only file system</li><li>Issue #200 - gemini quota auto disable/enable request</li></ul><h2 id="per-issue-status" tabindex="-1">Per-Issue Status <a class="header-anchor" href="#per-issue-status" aria-label="Permalink to &quot;Per-Issue Status&quot;">​</a></h2><h3 id="_213" tabindex="-1">#213 <a class="header-anchor" href="#_213" aria-label="Permalink to &quot;#213&quot;">​</a></h3><ul><li>Status: <code>partial (safe docs/config fix)</code></li><li>What was done: <ul><li>Added explicit Kilo OpenRouter-compatible configuration example using <code>api-key: anonymous</code> and <code>https://api.kilo.ai/api/openrouter</code>.</li><li>Updated sample config comments to reflect the same endpoint.</li></ul></li><li>Changed files: <ul><li><code>docs/provider-catalog.md</code></li><li><code>config.example.yaml</code></li></ul></li><li>Notes: <ul><li>Core Kilo provider support already exists in this repo; this lane focused on closing quickstart/config clarity gaps.</li></ul></li></ul><h3 id="_210" tabindex="-1">#210 <a class="header-anchor" href="#_210" aria-label="Permalink to &quot;#210&quot;">​</a></h3><ul><li>Status: <code>done</code></li><li>What was done: <ul><li>Updated Kiro truncation-required field rules for <code>Bash</code> to accept both <code>command</code> and <code>cmd</code>.</li><li>Added alias handling so missing one of the pair does not trigger false truncation.</li><li>Added regression test for Ampcode-style <code>{&quot;cmd&quot;:&quot;...&quot;}</code> payload.</li></ul></li><li>Changed files: <ul><li><code>pkg/llmproxy/translator/kiro/claude/truncation_detector.go</code></li><li><code>pkg/llmproxy/translator/kiro/claude/truncation_detector_test.go</code></li></ul></li></ul><h3 id="_206" tabindex="-1">#206 <a class="header-anchor" href="#_206" aria-label="Permalink to &quot;#206&quot;">​</a></h3><ul><li>Status: <code>done</code></li><li>What was done: <ul><li>Removed unsafe per-property <code>strings.ToUpper(propType.String())</code> rewrite that could stringify JSON type arrays.</li><li>Kept schema sanitization path and explicit root <code>type: OBJECT</code> setting.</li><li>Added regression test to ensure nullable type arrays are not converted into a stringified JSON array.</li></ul></li><li>Changed files: <ul><li><code>pkg/llmproxy/translator/gemini/openai/responses/gemini_openai-responses_request.go</code></li><li><code>pkg/llmproxy/translator/gemini/openai/responses/gemini_openai-responses_request_test.go</code></li></ul></li></ul><h3 id="_201" tabindex="-1">#201 <a class="header-anchor" href="#_201" aria-label="Permalink to &quot;#201&quot;">​</a></h3><ul><li>Status: <code>partial (safe runtime fallback)</code></li><li>What was done: <ul><li>Added read-only filesystem detection in management config persistence.</li><li>For read-only config writes, management now returns HTTP 200 with: <ul><li><code>status: ok</code></li><li><code>persisted: false</code></li><li>warning that changes are runtime-only and not persisted.</li></ul></li><li>Added tests for read-only error detection behavior.</li></ul></li><li>Changed files: <ul><li><code>pkg/llmproxy/api/handlers/management/handler.go</code></li><li><code>pkg/llmproxy/api/handlers/management/management_extra_test.go</code></li></ul></li><li>Notes: <ul><li>This unblocks management operations in read-only deployments without pretending persistence succeeded.</li></ul></li></ul><h3 id="_200" tabindex="-1">#200 <a class="header-anchor" href="#_200" aria-label="Permalink to &quot;#200&quot;">​</a></h3><ul><li>Status: <code>partial (documented current capability + blocker)</code></li><li>What was done: <ul><li>Added routing docs clarifying current quota automation knobs (<code>switch-project</code>, <code>switch-preview-model</code>).</li><li>Documented current limitation: no generic per-provider auto-disable/auto-enable scheduler.</li></ul></li><li>Changed files: <ul><li><code>docs/routing-reference.md</code></li></ul></li><li>Blocker: <ul><li>Full request needs new lifecycle scheduler/state machine for provider credential health and timed re-enable, which is larger than safe lane-3 patch scope.</li></ul></li></ul><h2 id="test-evidence" tabindex="-1">Test Evidence <a class="header-anchor" href="#test-evidence" aria-label="Permalink to &quot;Test Evidence&quot;">​</a></h2><ul><li><code>go test ./pkg/llmproxy/translator/gemini/openai/responses</code><ul><li>Result: <code>ok</code></li></ul></li><li><code>go test ./pkg/llmproxy/translator/kiro/claude</code><ul><li>Result: <code>ok</code></li></ul></li><li><code>go test ./pkg/llmproxy/api/handlers/management</code><ul><li>Result: <code>ok</code></li></ul></li></ul><h2 id="aggregate-changed-files" tabindex="-1">Aggregate Changed Files <a class="header-anchor" href="#aggregate-changed-files" aria-label="Permalink to &quot;Aggregate Changed Files&quot;">​</a></h2><ul><li><code>config.example.yaml</code></li><li><code>docs/provider-catalog.md</code></li><li><code>docs/routing-reference.md</code></li><li><code>pkg/llmproxy/api/handlers/management/handler.go</code></li><li><code>pkg/llmproxy/api/handlers/management/management_extra_test.go</code></li><li><code>pkg/llmproxy/translator/gemini/openai/responses/gemini_openai-responses_request.go</code></li><li><code>pkg/llmproxy/translator/gemini/openai/responses/gemini_openai-responses_request_test.go</code></li><li><code>pkg/llmproxy/translator/kiro/claude/truncation_detector.go</code></li><li><code>pkg/llmproxy/translator/kiro/claude/truncation_detector_test.go</code></li></ul>',18)])])}const h=l(t,[["render",r]]);export{g as __pageData,h as default};
