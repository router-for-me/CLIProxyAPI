import{_ as a,o as i,c as s,ag as t}from"./chunks/framework.DM0yugQT.js";const u=JSON.parse('{"title":"Operations API","description":"","frontmatter":{},"headers":[],"relativePath":"api/operations.md","filePath":"api/operations.md","lastUpdated":1771641201000}'),l={name:"api/operations.md"};function o(r,e,n,h,p,d){return i(),s("div",null,[...e[0]||(e[0]=[t('<h1 id="operations-api" tabindex="-1">Operations API <a class="header-anchor" href="#operations-api" aria-label="Permalink to &quot;Operations API&quot;">​</a></h1><p>Operations endpoints are used for liveness checks, routing visibility, and incident triage.</p><h2 id="audience-guidance" tabindex="-1">Audience Guidance <a class="header-anchor" href="#audience-guidance" aria-label="Permalink to &quot;Audience Guidance&quot;">​</a></h2><ul><li>SRE/ops: integrate these routes into health checks and dashboards.</li><li>Developers: use them when debugging routing/performance behavior.</li></ul><h2 id="core-endpoints" tabindex="-1">Core Endpoints <a class="header-anchor" href="#core-endpoints" aria-label="Permalink to &quot;Core Endpoints&quot;">​</a></h2><ul><li><code>GET /health</code> for liveness/readiness style checks.</li><li><code>GET /v1/metrics/providers</code> for rolling provider-level performance/usage stats.</li></ul><h2 id="monitoring-examples" tabindex="-1">Monitoring Examples <a class="header-anchor" href="#monitoring-examples" aria-label="Permalink to &quot;Monitoring Examples&quot;">​</a></h2><p>Basic liveness check:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -sS</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http://localhost:8317/health</span></span></code></pre></div><p>Provider metrics snapshot:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -sS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http://localhost:8317/v1/metrics/providers</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> jq</span></span></code></pre></div><p>Prometheus-friendly probe command:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -sS</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -o</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/null</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -w</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;%{http_code}\\n&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http://localhost:8317/health</span></span></code></pre></div><h2 id="suggested-operational-playbook" tabindex="-1">Suggested Operational Playbook <a class="header-anchor" href="#suggested-operational-playbook" aria-label="Permalink to &quot;Suggested Operational Playbook&quot;">​</a></h2><ol><li>Check <code>/health</code> first.</li><li>Inspect <code>/v1/metrics/providers</code> for latency/error concentration.</li><li>Correlate with request logs and model-level failures.</li><li>Shift traffic (prefix/model/provider) when a provider degrades.</li></ol><h2 id="failure-modes" tabindex="-1">Failure Modes <a class="header-anchor" href="#failure-modes" aria-label="Permalink to &quot;Failure Modes&quot;">​</a></h2><ul><li>Health endpoint flaps: resource saturation or startup race.</li><li>Provider metrics stale/empty: no recent traffic or exporter initialization issues.</li><li>High error ratio on one provider: auth expiry, upstream outage, or rate-limit pressure.</li></ul><h2 id="related-docs" tabindex="-1">Related Docs <a class="header-anchor" href="#related-docs" aria-label="Permalink to &quot;Related Docs&quot;">​</a></h2><ul><li><a href="/routing-reference">Routing and Models Reference</a></li><li><a href="/troubleshooting">Troubleshooting</a></li><li><a href="./management">Management API</a></li></ul>',19)])])}const k=a(l,[["render",o]]);export{u as __pageData,k as default};
