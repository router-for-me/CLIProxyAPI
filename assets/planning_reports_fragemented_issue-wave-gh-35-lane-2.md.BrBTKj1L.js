import{_ as o,o as i,c as l,ag as a}from"./chunks/framework.DM0yugQT.js";const h=JSON.parse('{"title":"Issue Wave GH-35 - Lane 2 Report","description":"","frontmatter":{},"headers":[],"relativePath":"planning/reports/fragemented/issue-wave-gh-35-lane-2.md","filePath":"planning/reports/fragemented/issue-wave-gh-35-lane-2.md","lastUpdated":1771764024000}'),t={name:"planning/reports/fragemented/issue-wave-gh-35-lane-2.md"};function r(s,e,d,n,c,u){return i(),l("div",null,[...e[0]||(e[0]=[a('<h1 id="issue-wave-gh-35-lane-2-report" tabindex="-1">Issue Wave GH-35 - Lane 2 Report <a class="header-anchor" href="#issue-wave-gh-35-lane-2-report" aria-label="Permalink to &quot;Issue Wave GH-35 - Lane 2 Report&quot;">​</a></h1><p>Scope: <code>router-for-me/CLIProxyAPIPlus</code> issues <code>#245 #241 #232 #221 #219</code> Worktree: <code>cliproxyapi-plusplus-worktree-2</code></p><h2 id="per-issue-status" tabindex="-1">Per-Issue Status <a class="header-anchor" href="#per-issue-status" aria-label="Permalink to &quot;Per-Issue Status&quot;">​</a></h2><h3 id="_245-fix-cline-add-granttype-to-token-refresh-and-extension-headers" tabindex="-1">#245 - <code>fix(cline): add grantType to token refresh and extension headers</code> <a class="header-anchor" href="#_245-fix-cline-add-granttype-to-token-refresh-and-extension-headers" aria-label="Permalink to &quot;#245 - `fix(cline): add grantType to token refresh and extension headers`&quot;">​</a></h3><ul><li>Status: <code>fix</code></li><li>Summary: <ul><li>Hardened Kiro IDC refresh payload compatibility by sending both camelCase and snake_case token fields (<code>grantType</code> + <code>grant_type</code>, etc.).</li><li>Unified extension header behavior across <code>RefreshToken</code> and <code>RefreshTokenWithRegion</code> via shared helper logic.</li></ul></li><li>Code paths inspected: <ul><li><code>pkg/llmproxy/auth/kiro/sso_oidc.go</code></li></ul></li></ul><h3 id="_241-context-length-for-models-registered-from-github-copilot-should-always-be-128k" tabindex="-1">#241 - <code>context length for models registered from github-copilot should always be 128K</code> <a class="header-anchor" href="#_241-context-length-for-models-registered-from-github-copilot-should-always-be-128k" aria-label="Permalink to &quot;#241 - `context length for models registered from github-copilot should always be 128K`&quot;">​</a></h3><ul><li>Status: <code>fix</code></li><li>Summary: <ul><li>Enforced a uniform <code>128000</code> context length for all models returned by <code>GetGitHubCopilotModels()</code>.</li><li>Added regression coverage to assert all Copilot models remain at 128K.</li></ul></li><li>Code paths inspected: <ul><li><code>pkg/llmproxy/registry/model_definitions.go</code></li><li><code>pkg/llmproxy/registry/model_definitions_test.go</code></li></ul></li></ul><h3 id="_232-add-amp-auth-as-kiro" tabindex="-1">#232 - <code>Add AMP auth as Kiro</code> <a class="header-anchor" href="#_232-add-amp-auth-as-kiro" aria-label="Permalink to &quot;#232 - `Add AMP auth as Kiro`&quot;">​</a></h3><ul><li>Status: <code>feature</code></li><li>Summary: <ul><li>Existing AMP support is routing/management oriented; this issue requests additional auth-mode/product behavior across provider semantics.</li><li>No safe, narrow, high-confidence patch was applied in this lane without widening scope into auth architecture.</li></ul></li><li>Code paths inspected: <ul><li><code>pkg/llmproxy/api/modules/amp/*</code></li><li><code>pkg/llmproxy/config/config.go</code></li><li><code>pkg/llmproxy/config/oauth_model_alias_migration.go</code></li></ul></li></ul><h3 id="_221-kiro账号被封" tabindex="-1">#221 - <code>kiro账号被封</code> <a class="header-anchor" href="#_221-kiro账号被封" aria-label="Permalink to &quot;#221 - `kiro账号被封`&quot;">​</a></h3><ul><li>Status: <code>external</code></li><li>Summary: <ul><li>Root symptom is account suspension by upstream provider and requires provider-side restoration.</li><li>No local code change can clear a suspended account state.</li></ul></li><li>Code paths inspected: <ul><li><code>pkg/llmproxy/runtime/executor/kiro_executor.go</code> (suspension/cooldown handling)</li></ul></li></ul><h3 id="_219-opus-4-6-unknown-provider-paths" tabindex="-1">#219 - <code>Opus 4.6</code> (unknown provider paths) <a class="header-anchor" href="#_219-opus-4-6-unknown-provider-paths" aria-label="Permalink to &quot;#219 - `Opus 4.6` (unknown provider paths)&quot;">​</a></h3><ul><li>Status: <code>fix</code></li><li>Summary: <ul><li>Added static antigravity alias coverage for <code>gemini-claude-opus-thinking</code> to prevent <code>unknown provider</code> classification.</li><li>Added migration/default-alias support for that alias and improved migration dedupe to preserve multiple aliases per same upstream model.</li></ul></li><li>Code paths inspected: <ul><li><code>pkg/llmproxy/registry/model_definitions_static_data.go</code></li><li><code>pkg/llmproxy/config/oauth_model_alias_migration.go</code></li><li><code>pkg/llmproxy/config/oauth_model_alias_migration_test.go</code></li></ul></li></ul><h2 id="files-changed" tabindex="-1">Files Changed <a class="header-anchor" href="#files-changed" aria-label="Permalink to &quot;Files Changed&quot;">​</a></h2><ul><li><code>pkg/llmproxy/auth/kiro/sso_oidc.go</code></li><li><code>pkg/llmproxy/auth/kiro/sso_oidc_test.go</code></li><li><code>pkg/llmproxy/registry/model_definitions.go</code></li><li><code>pkg/llmproxy/registry/model_definitions_static_data.go</code></li><li><code>pkg/llmproxy/registry/model_definitions_test.go</code></li><li><code>pkg/llmproxy/config/oauth_model_alias_migration.go</code></li><li><code>pkg/llmproxy/config/oauth_model_alias_migration_test.go</code></li><li><code>docs/planning/reports/issue-wave-gh-35-lane-2.md</code></li></ul><h2 id="focused-tests-run" tabindex="-1">Focused Tests Run <a class="header-anchor" href="#focused-tests-run" aria-label="Permalink to &quot;Focused Tests Run&quot;">​</a></h2><ul><li><code>go test ./pkg/llmproxy/auth/kiro -run &#39;TestRefreshToken|TestRefreshTokenWithRegion&#39;</code></li><li><code>go test ./pkg/llmproxy/registry -run &#39;TestGetGitHubCopilotModels|TestGetAntigravityModelConfig&#39;</code></li><li><code>go test ./pkg/llmproxy/config -run &#39;TestMigrateOAuthModelAlias_ConvertsAntigravityModels&#39;</code></li><li><code>go test ./pkg/llmproxy/auth/kiro ./pkg/llmproxy/registry ./pkg/llmproxy/config</code></li></ul><p>Result: all passing.</p><h2 id="blockers" tabindex="-1">Blockers <a class="header-anchor" href="#blockers" aria-label="Permalink to &quot;Blockers&quot;">​</a></h2><ul><li><code>#232</code> needs product/auth design decisions beyond safe lane-scoped bugfixing.</li><li><code>#221</code> is externally constrained by upstream account suspension workflow.</li></ul>',20)])])}const g=o(t,[["render",r]]);export{h as __pageData,g as default};
