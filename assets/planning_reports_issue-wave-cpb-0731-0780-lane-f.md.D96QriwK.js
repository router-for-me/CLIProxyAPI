import{_ as e,o as i,c as l,ag as t}from"./chunks/framework.DM0yugQT.js";const g=JSON.parse('{"title":"Issue Wave CPB-0731-0780 Lane F Report","description":"","frontmatter":{},"headers":[],"relativePath":"planning/reports/issue-wave-cpb-0731-0780-lane-f.md","filePath":"planning/reports/issue-wave-cpb-0731-0780-lane-f.md","lastUpdated":1771838886000}'),r={name:"planning/reports/issue-wave-cpb-0731-0780-lane-f.md"};function a(c,o,n,d,s,p){return i(),l("div",null,[...o[0]||(o[0]=[t('<h1 id="issue-wave-cpb-0731-0780-lane-f-report" tabindex="-1">Issue Wave CPB-0731-0780 Lane F Report <a class="header-anchor" href="#issue-wave-cpb-0731-0780-lane-f-report" aria-label="Permalink to &quot;Issue Wave CPB-0731-0780 Lane F Report&quot;">​</a></h1><ul><li>Lane: <code>F (cliproxyapi-plusplus)</code></li><li>Window slice: <code>CPB-0771</code>..<code>CPB-0780</code></li><li>Scope: triage-only report (no code changes)</li></ul><h2 id="per-item-triage" tabindex="-1">Per-Item Triage <a class="header-anchor" href="#per-item-triage" aria-label="Permalink to &quot;Per-Item Triage&quot;">​</a></h2><h3 id="cpb-0771" tabindex="-1">CPB-0771 <a class="header-anchor" href="#cpb-0771" aria-label="Permalink to &quot;CPB-0771&quot;">​</a></h3><ul><li>Title focus: close compatibility gaps for Anthropic <code>anthropic-beta</code> header support with Claude thinking + tool use paths.</li><li>Likely impacted paths: <ul><li><code>pkg/llmproxy/executor/claude_executor.go</code></li><li><code>pkg/llmproxy/runtime/executor/claude_executor.go</code></li><li><code>pkg/llmproxy/translator/codex/claude/codex_claude_request.go</code></li></ul></li><li>Validation command: <code>rg -n &quot;anthropic-beta|thinking|tool|input_schema|cache_control&quot; pkg/llmproxy/executor/claude_executor.go pkg/llmproxy/runtime/executor/claude_executor.go pkg/llmproxy/translator/codex/claude/codex_claude_request.go</code></li></ul><h3 id="cpb-0772" tabindex="-1">CPB-0772 <a class="header-anchor" href="#cpb-0772" aria-label="Permalink to &quot;CPB-0772&quot;">​</a></h3><ul><li>Title focus: harden Antigravity model handling in opencode CLI with clearer validation, safer defaults, and fallback behavior.</li><li>Likely impacted paths: <ul><li><code>pkg/llmproxy/executor/antigravity_executor.go</code></li><li><code>pkg/llmproxy/runtime/executor/antigravity_executor.go</code></li><li><code>pkg/llmproxy/config/providers.json</code></li></ul></li><li>Validation command: <code>go test ./pkg/llmproxy/executor -run &#39;TestAntigravity&#39; -count=1</code></li></ul><h3 id="cpb-0773" tabindex="-1">CPB-0773 <a class="header-anchor" href="#cpb-0773" aria-label="Permalink to &quot;CPB-0773&quot;">​</a></h3><ul><li>Title focus: operationalize native Gemini-format Antigravity gaps (model-list omissions + <code>gemini-3-pro-preview</code> web-search failures) with observability/runbook coverage.</li><li>Likely impacted paths: <ul><li><code>pkg/llmproxy/registry/model_definitions.go</code></li><li><code>pkg/llmproxy/logging/request_logger.go</code></li><li><code>docs/provider-operations.md</code></li></ul></li><li>Validation command: <code>rg -n &quot;gemini-3-pro-preview|model list|web search|observability|runbook|Antigravity&quot; pkg/llmproxy/registry/model_definitions.go pkg/llmproxy/logging/request_logger.go docs/provider-operations.md</code></li></ul><h3 id="cpb-0774" tabindex="-1">CPB-0774 <a class="header-anchor" href="#cpb-0774" aria-label="Permalink to &quot;CPB-0774&quot;">​</a></h3><ul><li>Title focus: convert <code>checkSystemInstructions</code>/<code>cache_control</code> block-limit failures into a provider-agnostic shared pattern.</li><li>Likely impacted paths: <ul><li><code>pkg/llmproxy/runtime/executor/claude_executor.go</code></li><li><code>pkg/llmproxy/executor/claude_executor.go</code></li><li><code>pkg/llmproxy/runtime/executor/caching_verify_test.go</code></li></ul></li><li>Validation command: <code>rg -n &quot;checkSystemInstructions|cache_control|maximum of 4 blocks|ensureCacheControl&quot; pkg/llmproxy/runtime/executor/claude_executor.go pkg/llmproxy/executor/claude_executor.go pkg/llmproxy/runtime/executor/caching_verify_test.go</code></li></ul><h3 id="cpb-0775" tabindex="-1">CPB-0775 <a class="header-anchor" href="#cpb-0775" aria-label="Permalink to &quot;CPB-0775&quot;">​</a></h3><ul><li>Title focus: improve DX and feedback loops for thinking-token constraints (<code>max_tokens</code> vs <code>thinking.budget_tokens</code>) across OpenAI/Gemini surfaces.</li><li>Likely impacted paths: <ul><li><code>pkg/llmproxy/executor/thinking_providers.go</code></li><li><code>pkg/llmproxy/translator/openai/common/reasoning.go</code></li><li><code>docs/troubleshooting.md</code></li></ul></li><li>Validation command: <code>rg -n &quot;max_tokens|budget_tokens|thinking|reasoning&quot; pkg/llmproxy/executor/thinking_providers.go pkg/llmproxy/translator/openai/common/reasoning.go docs/troubleshooting.md</code></li></ul><h3 id="cpb-0776" tabindex="-1">CPB-0776 <a class="header-anchor" href="#cpb-0776" aria-label="Permalink to &quot;CPB-0776&quot;">​</a></h3><ul><li>Title focus: expand Anthropic OAuth breakage docs/quickstarts with actionable troubleshooting for post-commit regressions.</li><li>Likely impacted paths: <ul><li><code>docs/provider-quickstarts.md</code></li><li><code>docs/troubleshooting.md</code></li><li><code>pkg/llmproxy/auth/claude/oauth_server.go</code></li></ul></li><li>Validation command: <code>rg -n &quot;Anthropic|Claude|OAuth|quickstart|troubleshoot|token&quot; docs/provider-quickstarts.md docs/troubleshooting.md pkg/llmproxy/auth/claude/oauth_server.go</code></li></ul><h3 id="cpb-0777" tabindex="-1">CPB-0777 <a class="header-anchor" href="#cpb-0777" aria-label="Permalink to &quot;CPB-0777&quot;">​</a></h3><ul><li>Title focus: add Droid-as-provider QA coverage for stream/non-stream parity and edge payload handling.</li><li>Likely impacted paths: <ul><li><code>pkg/llmproxy/translator/openai/openai/chat-completions/openai_openai_request_test.go</code></li><li><code>pkg/llmproxy/translator/openai/openai/responses/openai_openai-responses_request_test.go</code></li><li><code>pkg/llmproxy/config/providers.json</code></li></ul></li><li>Validation command: <code>rg -n &quot;Droid|droid|stream|non-stream|edge|provider&quot; pkg/llmproxy/translator/openai/openai/chat-completions/openai_openai_request_test.go pkg/llmproxy/translator/openai/openai/responses/openai_openai-responses_request_test.go pkg/llmproxy/config/providers.json</code></li></ul><h3 id="cpb-0778" tabindex="-1">CPB-0778 <a class="header-anchor" href="#cpb-0778" aria-label="Permalink to &quot;CPB-0778&quot;">​</a></h3><ul><li>Title focus: refactor JSON schema / structured output internals to isolate transformation boundaries and reduce coupling.</li><li>Likely impacted paths: <ul><li><code>pkg/llmproxy/translator/kiro/openai/kiro_openai_request.go</code></li><li><code>pkg/llmproxy/runtime/executor/codex_executor_schema_test.go</code></li><li><code>pkg/llmproxy/executor/token_helpers.go</code></li></ul></li><li>Validation command: <code>go test ./pkg/llmproxy/runtime/executor -run &#39;Schema|Structured|ResponseFormat&#39; -count=1</code></li></ul><h3 id="cpb-0779" tabindex="-1">CPB-0779 <a class="header-anchor" href="#cpb-0779" aria-label="Permalink to &quot;CPB-0779&quot;">​</a></h3><ul><li>Title focus: port relevant thegent-managed flow for thinking parity into first-class <code>cliproxy</code> Go CLI commands with interactive setup.</li><li>Likely impacted paths: <ul><li><code>cmd/cliproxyctl/main.go</code></li><li><code>cmd/cliproxyctl/main_test.go</code></li><li><code>pkg/llmproxy/cmd/thegent_login.go</code></li></ul></li><li>Validation command: <code>go test ./cmd/cliproxyctl -run &#39;Test.*(login|provider|doctor|models)&#39; -count=1</code></li></ul><h3 id="cpb-0780" tabindex="-1">CPB-0780 <a class="header-anchor" href="#cpb-0780" aria-label="Permalink to &quot;CPB-0780&quot;">​</a></h3><ul><li>Title focus: standardize metadata/naming for Docker-based Gemini login flows across config, registry, and install docs.</li><li>Likely impacted paths: <ul><li><code>docs/install.md</code></li><li><code>pkg/llmproxy/config/oauth_model_alias_migration.go</code></li><li><code>pkg/llmproxy/registry/model_registry.go</code></li></ul></li><li>Validation command: <code>rg -n &quot;docker|Gemini|gemini|login|oauth|alias|metadata&quot; docs/install.md pkg/llmproxy/config/oauth_model_alias_migration.go pkg/llmproxy/registry/model_registry.go</code></li></ul><h2 id="validation-block" tabindex="-1">Validation Block <a class="header-anchor" href="#validation-block" aria-label="Permalink to &quot;Validation Block&quot;">​</a></h2><p><code>rg -n &quot;CPB-0771|CPB-0772|CPB-0773|CPB-0774|CPB-0775|CPB-0776|CPB-0777|CPB-0778|CPB-0779|CPB-0780&quot; docs/planning/CLIPROXYAPI_1000_ITEM_BOARD_2026-02-22.md</code><code>rg -n &quot;anthropic-beta|thinking|tool|input_schema|cache_control&quot; pkg/llmproxy/executor/claude_executor.go pkg/llmproxy/runtime/executor/claude_executor.go pkg/llmproxy/translator/codex/claude/codex_claude_request.go</code><code>go test ./pkg/llmproxy/executor -run &#39;TestAntigravity&#39; -count=1</code><code>rg -n &quot;gemini-3-pro-preview|model list|web search|observability|runbook|Antigravity&quot; pkg/llmproxy/registry/model_definitions.go pkg/llmproxy/logging/request_logger.go docs/provider-operations.md</code><code>rg -n &quot;checkSystemInstructions|cache_control|maximum of 4 blocks|ensureCacheControl&quot; pkg/llmproxy/runtime/executor/claude_executor.go pkg/llmproxy/executor/claude_executor.go pkg/llmproxy/runtime/executor/caching_verify_test.go</code><code>rg -n &quot;max_tokens|budget_tokens|thinking|reasoning&quot; pkg/llmproxy/executor/thinking_providers.go pkg/llmproxy/translator/openai/common/reasoning.go docs/troubleshooting.md</code><code>rg -n &quot;Anthropic|Claude|OAuth|quickstart|troubleshoot|token&quot; docs/provider-quickstarts.md docs/troubleshooting.md pkg/llmproxy/auth/claude/oauth_server.go</code><code>rg -n &quot;Droid|droid|stream|non-stream|edge|provider&quot; pkg/llmproxy/translator/openai/openai/chat-completions/openai_openai_request_test.go pkg/llmproxy/translator/openai/openai/responses/openai_openai-responses_request_test.go pkg/llmproxy/config/providers.json</code><code>go test ./pkg/llmproxy/runtime/executor -run &#39;Schema|Structured|ResponseFormat&#39; -count=1</code><code>go test ./cmd/cliproxyctl -run &#39;Test.*(login|provider|doctor|models)&#39; -count=1</code><code>rg -n &quot;docker|Gemini|gemini|login|oauth|alias|metadata&quot; docs/install.md pkg/llmproxy/config/oauth_model_alias_migration.go pkg/llmproxy/registry/model_registry.go</code></p>',25)])])}const m=e(r,[["render",a]]);export{g as __pageData,m as default};
