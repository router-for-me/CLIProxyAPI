import{_ as a,o,c as t,ag as i}from"./chunks/framework.DM0yugQT.js";const p=JSON.parse('{"title":"Issue Wave GH-Next21 Lane 2 Report","description":"","frontmatter":{},"headers":[],"relativePath":"planning/reports/issue-wave-gh-next21-lane-2.md","filePath":"planning/reports/issue-wave-gh-next21-lane-2.md","lastUpdated":1771764910000}'),n={name:"planning/reports/issue-wave-gh-next21-lane-2.md"};function r(l,e,s,d,c,h){return o(),t("div",null,[...e[0]||(e[0]=[i('<h1 id="issue-wave-gh-next21-lane-2-report" tabindex="-1">Issue Wave GH-Next21 Lane 2 Report <a class="header-anchor" href="#issue-wave-gh-next21-lane-2-report" aria-label="Permalink to &quot;Issue Wave GH-Next21 Lane 2 Report&quot;">​</a></h1><p>Scope: OAuth/Auth reliability (<code>#246</code>, <code>#245</code>, <code>#177</code>)<br> Worktree: <code>/Users/kooshapari/temp-PRODVERCEL/485/kush/wt/gh-next21-lane-2</code><br> Branch: <code>wave-gh-next21-lane-2</code><br> Date: 2026-02-22</p><h2 id="status-by-item" tabindex="-1">Status by Item <a class="header-anchor" href="#status-by-item" aria-label="Permalink to &quot;Status by Item&quot;">​</a></h2><h3 id="_246-fix-cline-add-granttype-to-token-refresh-and-extension-headers" tabindex="-1">#246 - fix(cline): add grantType to token refresh and extension headers <a class="header-anchor" href="#_246-fix-cline-add-granttype-to-token-refresh-and-extension-headers" aria-label="Permalink to &quot;#246 - fix(cline): add grantType to token refresh and extension headers&quot;">​</a></h3><ul><li>Status: <code>done</code></li><li>Validation summary: <ul><li>IDC refresh payload sends both camelCase and snake_case fields, including <code>grantType</code> and <code>grant_type</code>.</li><li>IDC refresh flow applies extension headers expected by Kiro IDE behavior.</li></ul></li><li>Evidence: <ul><li><code>pkg/llmproxy/auth/kiro/sso_oidc.go</code> (payload + header helpers)</li><li><code>pkg/llmproxy/auth/kiro/sso_oidc_test.go</code> (regression coverage)</li><li>Implementation commit: <code>310c57a69</code></li></ul></li></ul><h3 id="_245-fix-cline-add-granttype-to-token-refresh-and-extension-headers" tabindex="-1">#245 - fix(cline): add grantType to token refresh and extension headers <a class="header-anchor" href="#_245-fix-cline-add-granttype-to-token-refresh-and-extension-headers" aria-label="Permalink to &quot;#245 - fix(cline): add grantType to token refresh and extension headers&quot;">​</a></h3><ul><li>Status: <code>done</code></li><li>Validation summary: <ul><li>Same auth reliability surface as <code>#246</code> is covered in both default and region-aware refresh code paths.</li><li>Tests assert both grant-type keys and extension header behavior.</li></ul></li><li>Evidence: <ul><li><code>pkg/llmproxy/auth/kiro/sso_oidc.go</code></li><li><code>pkg/llmproxy/auth/kiro/sso_oidc_test.go</code></li><li>Implementation commit: <code>310c57a69</code></li></ul></li></ul><h3 id="_177-kiro-token-导入失败-refresh-token-is-required" tabindex="-1">#177 - Kiro Token 导入失败: Refresh token is required <a class="header-anchor" href="#_177-kiro-token-导入失败-refresh-token-is-required" aria-label="Permalink to &quot;#177 - Kiro Token 导入失败: Refresh token is required&quot;">​</a></h3><ul><li>Status: <code>done</code></li><li>Validation summary: <ul><li>Token loader checks both default and legacy token-file paths.</li><li>Token parsing accepts both camelCase and snake_case token key formats.</li><li>Custom token-path loading reuses the tolerant parser.</li></ul></li><li>Evidence: <ul><li><code>pkg/llmproxy/auth/kiro/aws.go</code></li><li><code>pkg/llmproxy/auth/kiro/aws_load_token_test.go</code></li><li>Implementation commits: <code>322381d38</code>, <code>219fd8ed5</code></li></ul></li></ul><h2 id="verification-commands" tabindex="-1">Verification Commands <a class="header-anchor" href="#verification-commands" aria-label="Permalink to &quot;Verification Commands&quot;">​</a></h2><p>Executed on this lane worktree:</p><ul><li><code>go test ./pkg/llmproxy/auth/kiro -run &#39;TestRefreshToken_IncludesGrantTypeAndExtensionHeaders|TestRefreshTokenWithRegion_UsesRegionHostAndGrantType&#39; -count=1</code></li><li><code>go test ./pkg/llmproxy/auth/kiro -run &#39;TestLoadKiroIDEToken_FallbackLegacyPathAndSnakeCase|TestLoadKiroIDEToken_PrefersDefaultPathOverLegacy&#39; -count=1</code></li><li><code>go test ./pkg/llmproxy/auth/kiro -count=1</code></li></ul><p>All commands passed.</p><h2 id="remaining-gaps" tabindex="-1">Remaining Gaps <a class="header-anchor" href="#remaining-gaps" aria-label="Permalink to &quot;Remaining Gaps&quot;">​</a></h2><ul><li>No lane-local gaps detected for <code>#246</code>, <code>#245</code>, or <code>#177</code> in current <code>main</code> state.</li></ul>',15)])])}const m=a(n,[["render",r]]);export{p as __pageData,m as default};
