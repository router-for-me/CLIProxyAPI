import{_ as o,o as t,c as a,ag as i}from"./chunks/framework.DM0yugQT.js";const h=JSON.parse('{"title":"Issue Wave Next32 - Lane 2 Report","description":"","frontmatter":{},"headers":[],"relativePath":"planning/reports/issue-wave-gh-next32-lane-2.md","filePath":"planning/reports/issue-wave-gh-next32-lane-2.md","lastUpdated":1771824745000}'),l={name:"planning/reports/issue-wave-gh-next32-lane-2.md"};function r(s,e,n,d,c,u){return t(),a("div",null,[...e[0]||(e[0]=[i('<h1 id="issue-wave-next32-lane-2-report" tabindex="-1">Issue Wave Next32 - Lane 2 Report <a class="header-anchor" href="#issue-wave-next32-lane-2-report" aria-label="Permalink to &quot;Issue Wave Next32 - Lane 2 Report&quot;">​</a></h1><p>Scope: <code>router-for-me/CLIProxyAPIPlus</code> issues <code>#169 #165 #163 #158 #160 #149</code> Worktree: <code>cliproxyapi-plusplus-wave-cpb-2</code></p><h2 id="per-issue-status" tabindex="-1">Per-Issue Status <a class="header-anchor" href="#per-issue-status" aria-label="Permalink to &quot;Per-Issue Status&quot;">​</a></h2><h3 id="_169" tabindex="-1">#169 <a class="header-anchor" href="#_169" aria-label="Permalink to &quot;#169&quot;">​</a></h3><ul><li>Status: <code>implemented</code></li><li>Notes: verified OpenAI models URL/versioned-path behavior in runtime executor path. <ul><li>Evidence: <code>go test ./pkg/llmproxy/runtime/executor -run &#39;TestResolveOpenAIModelsURL|TestFetchOpenAIModels_UsesVersionedPath&#39; -count=1</code></li></ul></li></ul><h3 id="_165" tabindex="-1">#165 <a class="header-anchor" href="#_165" aria-label="Permalink to &quot;#165&quot;">​</a></h3><ul><li>Status: <code>implemented</code></li><li>Notes: tightened Kiro quota diagnostics/compatibility in management handler: <ul><li><code>auth_index</code> query now accepts aliases: <code>authIndex</code>, <code>AuthIndex</code>, <code>index</code></li><li>error payloads now include <code>auth_index</code> and token-resolution detail when available</li><li>tests added/updated in <code>pkg/llmproxy/api/handlers/management/api_tools_test.go</code></li></ul></li></ul><h3 id="_163" tabindex="-1">#163 <a class="header-anchor" href="#_163" aria-label="Permalink to &quot;#163&quot;">​</a></h3><ul><li>Status: <code>implemented</code></li><li>Notes: hardened malformed/legacy tool-call argument normalization for Kiro OpenAI translation: <ul><li>non-object JSON arguments preserved as <code>{ &quot;value&quot;: ... }</code></li><li>non-JSON arguments preserved as <code>{ &quot;raw&quot;: &quot;&lt;literal&gt;&quot; }</code></li><li>focused regression added in <code>pkg/llmproxy/translator/kiro/openai/kiro_openai_request_test.go</code></li></ul></li></ul><h3 id="_158" tabindex="-1">#158 <a class="header-anchor" href="#_158" aria-label="Permalink to &quot;#158&quot;">​</a></h3><ul><li>Status: <code>implemented</code></li><li>Notes: improved OAuth upstream key compatibility normalization: <ul><li>channel normalization now handles underscore/space variants (<code>github_copilot</code> -&gt; <code>github-copilot</code>)</li><li>sanitation + lookup use the same normalization helper</li><li>coverage extended in <code>pkg/llmproxy/config/oauth_upstream_test.go</code></li></ul></li></ul><h3 id="_160" tabindex="-1">#160 <a class="header-anchor" href="#_160" aria-label="Permalink to &quot;#160&quot;">​</a></h3><ul><li>Status: <code>blocked</code></li><li>Notes: blocked pending a reproducible failing fixture on duplicate-output streaming path. <ul><li>Current stream/tool-link normalization tests already cover ambiguous/missing call ID and duplicate-reasoning guardrails in <code>pkg/llmproxy/runtime/executor/kimi_executor_test.go</code>.</li><li>No deterministic regression sample in this repo currently maps to a safe, bounded code delta without speculative behavior changes.</li></ul></li></ul><h3 id="_149" tabindex="-1">#149 <a class="header-anchor" href="#_149" aria-label="Permalink to &quot;#149&quot;">​</a></h3><ul><li>Status: <code>implemented</code></li><li>Notes: hardened Kiro IDC token-refresh path: <ul><li>prevents invalid fallback to social OAuth refresh when IDC client credentials are missing</li><li>returns actionable remediation text (<code>--kiro-aws-login</code> / <code>--kiro-aws-authcode</code> / re-import guidance)</li><li>regression added in <code>sdk/auth/kiro_refresh_test.go</code></li></ul></li></ul><h2 id="focused-checks" tabindex="-1">Focused Checks <a class="header-anchor" href="#focused-checks" aria-label="Permalink to &quot;Focused Checks&quot;">​</a></h2><ul><li><code>go test ./pkg/llmproxy/config -run &#39;OAuthUpstream&#39; -count=1</code></li><li><code>go test ./pkg/llmproxy/translator/kiro/openai -run &#39;BuildAssistantMessageFromOpenAI&#39; -count=1</code></li><li><code>go test ./sdk/auth -run &#39;KiroRefresh&#39; -count=1</code></li><li><code>go test ./pkg/llmproxy/api/handlers/management -run &#39;GetKiroQuotaWithChecker&#39; -count=1</code></li><li><code>go vet ./...</code></li><li><code>task quality:quick</code> (started; fmt/preflight/lint and many package tests passed, long-running suite still active in shared environment session)</li></ul><h2 id="blockers" tabindex="-1">Blockers <a class="header-anchor" href="#blockers" aria-label="Permalink to &quot;Blockers&quot;">​</a></h2><ul><li>#160 blocked on missing deterministic reproduction fixture for duplicate-output stream bug in current repo state.</li></ul><h2 id="wave2-lane-2-entry-241" tabindex="-1">Wave2 Lane 2 Entry - #241 <a class="header-anchor" href="#wave2-lane-2-entry-241" aria-label="Permalink to &quot;Wave2 Lane 2 Entry - #241&quot;">​</a></h2><ul><li>Issue: <code>#241</code> copilot context length should always be <code>128K</code></li><li>Status: <code>implemented</code></li><li>Mapping: <ul><li>normalization at runtime registration: <code>pkg/llmproxy/registry/model_registry.go</code></li><li>regression coverage: <code>pkg/llmproxy/registry/model_registry_hook_test.go</code></li></ul></li><li>Tests: <ul><li><code>go test ./pkg/llmproxy/registry -run &#39;TestRegisterClient_NormalizesCopilotContextLength|TestGetGitHubCopilotModels&#39; -count=1</code></li></ul></li></ul>',21)])])}const m=o(l,[["render",r]]);export{h as __pageData,m as default};
