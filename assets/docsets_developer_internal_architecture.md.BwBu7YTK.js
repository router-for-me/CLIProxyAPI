import{_ as a,o as i,c as s,ag as t}from"./chunks/framework.DM0yugQT.js";const u=JSON.parse('{"title":"Internal Architecture","description":"","frontmatter":{},"headers":[],"relativePath":"docsets/developer/internal/architecture.md","filePath":"docsets/developer/internal/architecture.md","lastUpdated":1771641201000}'),l={name:"docsets/developer/internal/architecture.md"};function n(r,e,o,c,d,h){return i(),s("div",null,[...e[0]||(e[0]=[t(`<h1 id="internal-architecture" tabindex="-1">Internal Architecture <a class="header-anchor" href="#internal-architecture" aria-label="Permalink to &quot;Internal Architecture&quot;">​</a></h1><p>A maintainers-first summary of core boundaries and runtime data flow.</p><h2 id="core-boundaries" tabindex="-1">Core Boundaries <a class="header-anchor" href="#core-boundaries" aria-label="Permalink to &quot;Core Boundaries&quot;">​</a></h2><ol><li><code>cmd/</code>: process bootstrap and CLI entry.</li><li><code>pkg/llmproxy/api</code>: HTTP routing and middleware surfaces.</li><li><code>pkg/llmproxy/runtime</code> and executors: provider translation + request execution.</li><li><code>pkg/llmproxy/auth</code>: credential loading, OAuth flows, refresh behavior.</li><li>Management/ops handlers: runtime control, introspection, and diagnostics.</li></ol><h2 id="request-lifecycle-high-level" tabindex="-1">Request Lifecycle (High Level) <a class="header-anchor" href="#request-lifecycle-high-level" aria-label="Permalink to &quot;Request Lifecycle (High Level)&quot;">​</a></h2><ol><li>Request enters <code>/v1/*</code> route.</li><li>Access middleware validates API key.</li><li>Model/endpoint compatibility is resolved.</li><li>Executor constructs provider-specific request.</li><li>Response is normalized and returned.</li><li>Metrics/logging capture operational signals.</li></ol><h2 id="stability-contracts" tabindex="-1">Stability Contracts <a class="header-anchor" href="#stability-contracts" aria-label="Permalink to &quot;Stability Contracts&quot;">​</a></h2><ul><li><code>/v1/chat/completions</code> and <code>/v1/models</code> are external compatibility anchors.</li><li>Management APIs should remain explicit about auth and remote-access rules.</li><li>Routing changes must preserve predictable prefix/alias behavior.</li></ul><h2 id="typical-change-risk-areas" tabindex="-1">Typical Change Risk Areas <a class="header-anchor" href="#typical-change-risk-areas" aria-label="Permalink to &quot;Typical Change Risk Areas&quot;">​</a></h2><ul><li>Model mapping and alias conflicts.</li><li>OAuth token refresh edge cases.</li><li>Streaming response compatibility.</li><li>Backward compatibility for management endpoints.</li></ul><h2 id="internal-validation-suggestions" tabindex="-1">Internal Validation Suggestions <a class="header-anchor" href="#internal-validation-suggestions" aria-label="Permalink to &quot;Internal Validation Suggestions&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># quick smoke requests</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -sS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http://localhost:8317/health</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -sS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http://localhost:8317/v1/models</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -H</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Authorization: Bearer &lt;key&gt;&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># docs validation from docs/</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docs:build</span></span></code></pre></div>`,12)])])}const k=a(l,[["render",n]]);export{u as __pageData,k as default};
