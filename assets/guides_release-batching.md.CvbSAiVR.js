import{_ as a,o as s,c as i,ag as t}from"./chunks/framework.DM0yugQT.js";const k=JSON.parse('{"title":"Release Batching Guide","description":"","frontmatter":{},"headers":[],"relativePath":"guides/release-batching.md","filePath":"guides/release-batching.md","lastUpdated":1771764434000}'),l={name:"guides/release-batching.md"};function h(n,e,r,o,d,p){return s(),i("div",null,[...e[0]||(e[0]=[t('<h1 id="release-batching-guide" tabindex="-1">Release Batching Guide <a class="header-anchor" href="#release-batching-guide" aria-label="Permalink to &quot;Release Batching Guide&quot;">​</a></h1><p>This repository follows release tags in the format:</p><ul><li><code>v&lt;major&gt;.&lt;minor&gt;.&lt;patch&gt;-&lt;batch&gt;</code></li><li>Examples: <code>v6.8.24-0</code>, <code>v6.8.18-1</code></li></ul><h2 id="batch-strategy" tabindex="-1">Batch Strategy <a class="header-anchor" href="#batch-strategy" aria-label="Permalink to &quot;Batch Strategy&quot;">​</a></h2><ol><li>Land a coherent batch of commits on <code>main</code>.</li><li>Run release tool in default mode: <ul><li>bumps patch</li><li>resets batch suffix to <code>0</code></li></ul></li><li>For same-patch follow-up release, run hotfix mode: <ul><li>keeps patch</li><li>increments batch suffix (<code>-1</code>, <code>-2</code>, ...)</li></ul></li></ol><h2 id="commands" tabindex="-1">Commands <a class="header-anchor" href="#commands" aria-label="Permalink to &quot;Commands&quot;">​</a></h2><p>Dry run:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">go</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./cmd/releasebatch</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --mode</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> create</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --target</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> main</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --dry-run</span></span></code></pre></div><p>Patch batch release:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">go</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./cmd/releasebatch</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --mode</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> create</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --target</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> main</span></span></code></pre></div><p>Hotfix release on same patch:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">go</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./cmd/releasebatch</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --mode</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> create</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --target</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> main</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --hotfix</span></span></code></pre></div><p>Automatic notes generation on tag push:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">go</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./cmd/releasebatch</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --mode</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> notes</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --tag</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> v6.8.24-0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --out</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /tmp/release-notes.md</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --edit-release</span></span></code></pre></div><h2 id="what-the-tool-does" tabindex="-1">What the Tool Does <a class="header-anchor" href="#what-the-tool-does" aria-label="Permalink to &quot;What the Tool Does&quot;">​</a></h2><ul><li>Validates clean working tree (create mode, fail-fast if dirty).</li><li>Fetches tags/target branch state.</li><li>Detects latest release tag matching <code>v&lt;semver&gt;-&lt;batch&gt;</code>.</li><li>Computes next tag per mode (batch vs hotfix).</li><li>Builds release notes in the current upstream style: <ul><li><code>## Changelog</code></li><li>one bullet per commit: <code>&lt;full_sha&gt; &lt;subject&gt;</code></li></ul></li><li>Creates/pushes annotated tag (create mode).</li><li>Publishes release (<code>gh release create</code>) or updates release notes (<code>gh release edit</code>).</li></ul><h2 id="best-practices" tabindex="-1">Best Practices <a class="header-anchor" href="#best-practices" aria-label="Permalink to &quot;Best Practices&quot;">​</a></h2><ul><li>Keep each release batch focused (single wave/theme).</li><li>Merge lane branches first; release only from <code>main</code>.</li><li>Ensure targeted tests pass before release.</li><li>Prefer one patch release per merged wave; use hotfix only for urgent follow-up.</li></ul>',18)])])}const g=a(l,[["render",h]]);export{k as __pageData,g as default};
