import{_ as t,o,c as i,ag as a}from"./chunks/framework.DM0yugQT.js";const m=JSON.parse('{"title":"Issue Wave CPB-0721-0730 Lane E5 Report","description":"","frontmatter":{},"headers":[],"relativePath":"planning/reports/issue-wave-cpb-0721-0730-lane-e5.md","filePath":"planning/reports/issue-wave-cpb-0721-0730-lane-e5.md","lastUpdated":1771838886000}'),l={name:"planning/reports/issue-wave-cpb-0721-0730-lane-e5.md"};function r(s,e,n,c,d,u){return o(),i("div",null,[...e[0]||(e[0]=[a('<h1 id="issue-wave-cpb-0721-0730-lane-e5-report" tabindex="-1">Issue Wave CPB-0721-0730 Lane E5 Report <a class="header-anchor" href="#issue-wave-cpb-0721-0730-lane-e5-report" aria-label="Permalink to &quot;Issue Wave CPB-0721-0730 Lane E5 Report&quot;">​</a></h1><ul><li>Lane: <code>E5 (cliproxy)</code></li><li>Window: <code>CPB-0721</code> to <code>CPB-0730</code></li><li>Worktree: <code>/Users/kooshapari/temp-PRODVERCEL/485/kush/cliproxyapi-plusplus</code></li><li>Scope policy: lane-only scope; no unrelated edits.</li></ul><h2 id="implemented" tabindex="-1">Implemented <a class="header-anchor" href="#implemented" aria-label="Permalink to &quot;Implemented&quot;">​</a></h2><h3 id="cpb-0721-antigravity-api-400-compatibility-gaps-ref-defs" tabindex="-1">CPB-0721 - Antigravity API 400 compatibility gaps (<code>$ref</code> / <code>$defs</code>) <a class="header-anchor" href="#cpb-0721-antigravity-api-400-compatibility-gaps-ref-defs" aria-label="Permalink to &quot;CPB-0721 - Antigravity API 400 compatibility gaps (`$ref` / `$defs`)&quot;">​</a></h3><ul><li>Status: implemented.</li><li>Outcome: <ul><li>Added a schema post-clean step in Antigravity request construction to hard-remove all <code>&quot;$ref&quot;</code> and <code>&quot;$defs&quot;</code> keys from tool schemas after existing cleanup.</li><li>Applied the same hardening in both executor entrypoints: <ul><li><code>pkg/llmproxy/executor/antigravity_executor.go</code></li><li><code>pkg/llmproxy/runtime/executor/antigravity_executor.go</code></li></ul></li><li>Added shared utility helper to remove arbitrary key names from JSON bodies by recursive path walk.</li></ul></li><li>Evidence: <ul><li><code>pkg/llmproxy/util/translator.go</code> (<code>DeleteKeysByName</code>)</li><li><code>pkg/llmproxy/executor/antigravity_executor.go</code></li><li><code>pkg/llmproxy/runtime/executor/antigravity_executor.go</code></li></ul></li></ul><h3 id="cpb-0721-regression-coverage-antigravity-tool-schema-key-stripping" tabindex="-1">CPB-0721 regression coverage - Antigravity tool schema key stripping <a class="header-anchor" href="#cpb-0721-regression-coverage-antigravity-tool-schema-key-stripping" aria-label="Permalink to &quot;CPB-0721 regression coverage - Antigravity tool schema key stripping&quot;">​</a></h3><ul><li>Status: implemented.</li><li>Outcome: <ul><li>Added buildRequest regression tests with schemas containing <code>$defs</code> and <code>$ref</code> and recursive assertions that neither key survives final outgoing payload.</li></ul></li><li>Evidence: <ul><li><code>pkg/llmproxy/executor/antigravity_executor_buildrequest_test.go</code></li><li><code>pkg/llmproxy/runtime/executor/antigravity_executor_buildrequest_test.go</code></li></ul></li></ul><h2 id="validation-commands" tabindex="-1">Validation Commands <a class="header-anchor" href="#validation-commands" aria-label="Permalink to &quot;Validation Commands&quot;">​</a></h2><ul><li><code>go test ./pkg/llmproxy/executor -run TestAntigravityBuildRequest -count=1</code></li><li><code>go test ./pkg/llmproxy/runtime/executor -run TestAntigravityBuildRequest -count=1</code></li><li><code>go test ./pkg/llmproxy/util -run TestDeleteKeysByName -count=1</code></li></ul><h2 id="docs-and-notes" tabindex="-1">Docs and Notes <a class="header-anchor" href="#docs-and-notes" aria-label="Permalink to &quot;Docs and Notes&quot;">​</a></h2><ul><li>Added docs hand-off notes for CPB-0721 schema-key cleanup and regression checks. <ul><li><code>docs/guides/cpb-0721-0730-lane-e5-notes.md</code></li></ul></li></ul>',11)])])}const g=t(l,[["render",r]]);export{m as __pageData,g as default};
