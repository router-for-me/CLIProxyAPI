import{_ as o,o as i,c as l,ag as t}from"./chunks/framework.DM0yugQT.js";const m=JSON.parse('{"title":"Issue Wave Next32 - Lane 7 Report","description":"","frontmatter":{},"headers":[],"relativePath":"planning/reports/issue-wave-gh-next32-lane-7.md","filePath":"planning/reports/issue-wave-gh-next32-lane-7.md","lastUpdated":1771826874000}'),r={name:"planning/reports/issue-wave-gh-next32-lane-7.md"};function a(d,e,s,c,u,n){return i(),l("div",null,[...e[0]||(e[0]=[t('<h1 id="issue-wave-next32-lane-7-report" tabindex="-1">Issue Wave Next32 - Lane 7 Report <a class="header-anchor" href="#issue-wave-next32-lane-7-report" aria-label="Permalink to &quot;Issue Wave Next32 - Lane 7 Report&quot;">​</a></h1><p>Scope: <code>router-for-me/CLIProxyAPIPlus</code> issues <code>#69 #43 #37 #30 #26</code> Worktree: <code>/Users/kooshapari/temp-PRODVERCEL/485/kush/wt/cpb-wave-c7-docs-next</code></p><h2 id="per-issue-status" tabindex="-1">Per-Issue Status <a class="header-anchor" href="#per-issue-status" aria-label="Permalink to &quot;Per-Issue Status&quot;">​</a></h2><h3 id="_69" tabindex="-1">#69 <a class="header-anchor" href="#_69" aria-label="Permalink to &quot;#69&quot;">​</a></h3><ul><li>GitHub: <code>OPEN</code> - <code>[BUG] Vision requests fail for ZAI (glm) and Copilot models with missing header / invalid parameter errors</code></li><li>Status: <code>blocked</code></li><li>Code/Test surface: <ul><li><code>pkg/llmproxy/executor/github_copilot_executor.go</code></li><li><code>pkg/llmproxy/executor/github_copilot_executor_test.go</code></li><li><code>pkg/llmproxy/executor/openai_models_fetcher_test.go</code></li></ul></li><li>Evidence command: <ul><li><code>rg -n &quot;Copilot-Vision-Request|detectVisionContent|api.z.ai|/api/coding/paas/v4/models&quot; pkg/llmproxy/executor/github_copilot_executor.go pkg/llmproxy/executor/github_copilot_executor_test.go pkg/llmproxy/executor/openai_models_fetcher_test.go</code></li></ul></li><li>Evidence output: <ul><li><code>github_copilot_executor.go:164: httpReq.Header.Set(&quot;Copilot-Vision-Request&quot;, &quot;true&quot;)</code></li><li><code>github_copilot_executor.go:298: httpReq.Header.Set(&quot;Copilot-Vision-Request&quot;, &quot;true&quot;)</code></li><li><code>github_copilot_executor_test.go:317: if !detectVisionContent(body) {</code></li><li><code>openai_models_fetcher_test.go:28: want: &quot;https://api.z.ai/api/coding/paas/v4/models&quot;</code></li></ul></li><li>Notes: <ul><li>Copilot vision-header handling is implemented, but no deterministic local proof was found for the specific ZAI vision payload-parameter error path described in the issue.</li></ul></li></ul><h3 id="_43" tabindex="-1">#43 <a class="header-anchor" href="#_43" aria-label="Permalink to &quot;#43&quot;">​</a></h3><ul><li>GitHub: <code>OPEN</code> - <code>[Bug] Models from Codex (openai) are not accessible when Copilot is added</code></li><li>Status: <code>done</code></li><li>Code/Test surface: <ul><li><code>pkg/llmproxy/api/server.go</code></li><li><code>pkg/llmproxy/api/handlers/management/config_basic.go</code></li><li><code>pkg/llmproxy/api/handlers/management/auth_files.go</code></li></ul></li><li>Evidence command: <ul><li><code>rg -n &quot;force-model-prefix|PutForceModelPrefix|GetForceModelPrefix|Prefix\\\\s+\\\\*string|PatchAuthFileFields&quot; pkg/llmproxy/api/server.go pkg/llmproxy/api/handlers/management/config_basic.go pkg/llmproxy/api/handlers/management/auth_files.go</code></li></ul></li><li>Evidence output: <ul><li><code>config_basic.go:280: func (h *Handler) GetForceModelPrefix(c *gin.Context) {</code></li><li><code>config_basic.go:283: func (h *Handler) PutForceModelPrefix(c *gin.Context) {</code></li><li><code>server.go:626: mgmt.GET(&quot;/force-model-prefix&quot;, s.mgmt.GetForceModelPrefix)</code></li><li><code>server.go:627: mgmt.PUT(&quot;/force-model-prefix&quot;, s.mgmt.PutForceModelPrefix)</code></li><li><code>auth_files.go:916: // PatchAuthFileFields updates editable fields (prefix, proxy_url, priority) of an auth file.</code></li></ul></li><li>Notes: <ul><li>Existing implementation provides model-prefix controls (<code>force-model-prefix</code> and per-auth <code>prefix</code>) matching the issue&#39;s suggested disambiguation path.</li></ul></li></ul><h3 id="_37" tabindex="-1">#37 <a class="header-anchor" href="#_37" aria-label="Permalink to &quot;#37&quot;">​</a></h3><ul><li>GitHub: <code>OPEN</code> - <code>GitHub Copilot models seem to be hardcoded</code></li><li>Status: <code>blocked</code></li><li>Code/Test surface: <ul><li><code>pkg/llmproxy/registry/model_definitions.go</code></li></ul></li><li>Evidence command: <ul><li><code>sed -n &#39;171,230p&#39; pkg/llmproxy/registry/model_definitions.go</code></li></ul></li><li>Evidence output: <ul><li><code>func GetGitHubCopilotModels() []*ModelInfo {</code></li><li><code>gpt4oEntries := []struct { ... }{ ... }</code></li><li><code>models := []*ModelInfo{ ... ID: &quot;gpt-4.1&quot; ... }</code></li><li><code>models = append(models, []*ModelInfo{ ... ID: &quot;gpt-5&quot; ... })</code></li></ul></li><li>Notes: <ul><li>Copilot models are enumerated in static code, not fetched dynamically from upstream.</li></ul></li></ul><h3 id="_30" tabindex="-1">#30 <a class="header-anchor" href="#_30" aria-label="Permalink to &quot;#30&quot;">​</a></h3><ul><li>GitHub: <code>OPEN</code> - <code>kiro命令登录没有端口</code></li><li>Status: <code>blocked</code></li><li>Code/Test surface: <ul><li><code>pkg/llmproxy/cmd/kiro_login.go</code></li><li><code>pkg/llmproxy/api/handlers/management/auth_files.go</code></li><li><code>cmd/server/main.go</code></li></ul></li><li>Evidence command: <ul><li><code>rg -n &quot;kiroCallbackPort|startCallbackForwarder\\\\(|--kiro-aws-authcode|--kiro-aws-login|--kiro-import&quot; pkg/llmproxy/api/handlers/management/auth_files.go pkg/llmproxy/cmd/kiro_login.go cmd/server/main.go</code></li></ul></li><li>Evidence output: <ul><li><code>auth_files.go:2623: const kiroCallbackPort = 9876</code></li><li><code>auth_files.go:2766: if _, errStart := startCallbackForwarder(kiroCallbackPort, &quot;kiro&quot;, targetURL); errStart != nil {</code></li><li><code>kiro_login.go:102: ... use --kiro-aws-authcode.</code></li><li><code>kiro_login.go:161: ... try: --kiro-aws-login (device code flow)</code></li></ul></li><li>Notes: <ul><li>Callback port and fallback flows exist in code, but deterministic proof that the reported &quot;no port shown&quot; runtime behavior is resolved in the stated container environment was not established.</li></ul></li></ul><h3 id="_26" tabindex="-1">#26 <a class="header-anchor" href="#_26" aria-label="Permalink to &quot;#26&quot;">​</a></h3><ul><li>GitHub: <code>OPEN</code> - <code>I did not find the Kiro entry in the Web UI</code></li><li>Status: <code>done</code></li><li>Code/Test surface: <ul><li><code>pkg/llmproxy/api/server.go</code></li><li><code>pkg/llmproxy/api/handlers/management/auth_files.go</code></li><li><code>pkg/llmproxy/cmd/setup.go</code></li></ul></li><li>Evidence command: <ul><li><code>rg -n &quot;Kiro|kiro|Auth Files|auth files|/management.html|Provider: \\\\\\&quot;kiro\\\\\\&quot;&quot; pkg/llmproxy/api/server.go pkg/llmproxy/api/handlers/management/auth_files.go pkg/llmproxy/cmd/setup.go</code></li></ul></li><li>Evidence output: <ul><li><code>server.go:323: s.engine.GET(&quot;/management.html&quot;, s.serveManagementControlPanel)</code></li><li><code>server.go:683: mgmt.GET(&quot;/kiro-auth-url&quot;, s.mgmt.RequestKiroToken)</code></li><li><code>auth_files.go:2711: Provider: &quot;kiro&quot;,</code></li><li><code>auth_files.go:2864: Provider: &quot;kiro&quot;,</code></li><li><code>setup.go:118: {label: &quot;Kiro OAuth login&quot;, run: DoKiroLogin},</code></li></ul></li><li>Notes: <ul><li>Kiro management and auth entrypoints are present, and Kiro auth records are created with provider type <code>kiro</code>.</li></ul></li></ul><h2 id="focused-checks" tabindex="-1">Focused Checks <a class="header-anchor" href="#focused-checks" aria-label="Permalink to &quot;Focused Checks&quot;">​</a></h2><ul><li><code>gh api repos/router-for-me/CLIProxyAPIPlus/issues/69 --jq &#39;&quot;#\\(.number) [\\(.state|ascii_upcase)] \\(.title) | \\(.html_url)&quot;&#39;</code><ul><li><code>#69 [OPEN] [BUG] Vision requests fail for ZAI (glm) and Copilot models with missing header / invalid parameter errors | https://github.com/router-for-me/CLIProxyAPIPlus/issues/69</code></li></ul></li><li><code>gh api repos/router-for-me/CLIProxyAPIPlus/issues/43 --jq &#39;&quot;#\\(.number) [\\(.state|ascii_upcase)] \\(.title) | \\(.html_url)&quot;&#39;</code><ul><li><code>#43 [OPEN] [Bug] Models from Codex (openai) are not accessible when Copilot is added | https://github.com/router-for-me/CLIProxyAPIPlus/issues/43</code></li></ul></li><li><code>gh api repos/router-for-me/CLIProxyAPIPlus/issues/37 --jq &#39;&quot;#\\(.number) [\\(.state|ascii_upcase)] \\(.title) | \\(.html_url)&quot;&#39;</code><ul><li><code>#37 [OPEN] GitHub Copilot models seem to be hardcoded | https://github.com/router-for-me/CLIProxyAPIPlus/issues/37</code></li></ul></li><li><code>gh api repos/router-for-me/CLIProxyAPIPlus/issues/30 --jq &#39;&quot;#\\(.number) [\\(.state|ascii_upcase)] \\(.title) | \\(.html_url)&quot;&#39;</code><ul><li><code>#30 [OPEN] kiro命令登录没有端口 | https://github.com/router-for-me/CLIProxyAPIPlus/issues/30</code></li></ul></li><li><code>gh api repos/router-for-me/CLIProxyAPIPlus/issues/26 --jq &#39;&quot;#\\(.number) [\\(.state|ascii_upcase)] \\(.title) | \\(.html_url)&quot;&#39;</code><ul><li><code>#26 [OPEN] I did not find the Kiro entry in the Web UI | https://github.com/router-for-me/CLIProxyAPIPlus/issues/26</code></li></ul></li></ul><h2 id="blockers" tabindex="-1">Blockers <a class="header-anchor" href="#blockers" aria-label="Permalink to &quot;Blockers&quot;">​</a></h2><ul><li><code>#69</code>: only partial proof (Copilot header path); no deterministic proof of ZAI vision-parameter fix.</li><li><code>#37</code>: implementation remains static/hardcoded model list.</li><li><code>#30</code>: environment-specific login/port symptom not deterministically proven resolved from code-only evidence.</li></ul>',17)])])}const h=o(r,[["render",a]]);export{m as __pageData,h as default};
