# cliproxyapi++ ğŸš€

[![Go Report Card](https://goreportcard.com/badge/github.com/KooshaPari/cliproxyapi-plusplus)](https://goreportcard.com/report/github.com/KooshaPari/cliproxyapi-plusplus)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Docker Pulls](https://img.shields.io/docker/pulls/kooshapari/cliproxyapi-plusplus.svg)](https://hub.docker.com/r/kooshapari/cliproxyapi-plusplus)
[![GitHub Release](https://img.shields.io/github/v/release/KooshaPari/cliproxyapi-plusplus)](https://github.com/KooshaPari/cliproxyapi-plusplus/releases)

[English](README.md) | ä¸­æ–‡

**cliproxyapi++** æ˜¯ [CLIProxyAPI](https://github.com/router-for-me/CLIProxyAPI) çš„é«˜æ€§èƒ½ã€ç»è¿‡å®‰å…¨åŠ å›ºçš„ç»ˆæåˆ†æ”¯ç‰ˆæœ¬ã€‚å®ƒç§‰æŒâ€œçºµæ·±é˜²å¾¡â€çš„å¼€å‘ç†å¿µå’Œâ€œåº“ä¼˜å…ˆâ€çš„æ¶æ„è®¾è®¡ï¼Œä¸ºå¤šç§ä¸»æµåŠç§æœ‰å¤§æ¨¡å‹æä¾› OpenAI å…¼å®¹æ¥å£ï¼Œå¹¶å…·å¤‡ä¼ä¸šçº§ç¨³å®šæ€§ã€‚

---

## ğŸ† æ·±åº¦å¯¹æ¯”ï¼š`++` ç‰ˆæœ¬çš„ä¼˜åŠ¿

ä¸ºä»€ä¹ˆé€‰æ‹© **cliproxyapi++** è€Œä¸æ˜¯ä¸»çº¿ç‰ˆæœ¬ï¼Ÿè™½ç„¶ä¸»çº¿ç‰ˆæœ¬ä¸“æ³¨äºå¼€æºç¤¾åŒºçš„ç¨³å®šæ€§ï¼Œä½† `++` ç‰ˆæœ¬åˆ™æ˜¯ä¸ºé«˜å¹¶å‘ã€ç”Ÿäº§çº§ç¯å¢ƒè€Œè®¾è®¡çš„ï¼Œåœ¨å®‰å…¨æ€§ã€è‡ªåŠ¨åŒ–ç”Ÿå‘½å‘¨æœŸç®¡ç†å’Œå¹¿æ³›çš„æä¾›å•†æ”¯æŒæ–¹é¢å…·æœ‰æ˜¾è‘—ä¼˜åŠ¿ã€‚

### ğŸ“Š åŠŸèƒ½å¯¹æ¯”çŸ©é˜µ

| åŠŸèƒ½ç‰¹æ€§ | ä¸»çº¿ç‰ˆæœ¬ | CLIProxyAPI+ | **cliproxyapi++** |
| :--- | :---: | :---: | :---: |
| **æ ¸å¿ƒä»£ç†é€»è¾‘** | âœ… | âœ… | âœ… |
| **åŸºç¡€æ¨¡å‹æ”¯æŒ** | âœ… | âœ… | âœ… |
| **æ ‡å‡† Web UI** | âŒ | âœ… | âœ… |
| **é«˜çº§è®¤è¯ (Kiro/Copilot)** | âŒ | âš ï¸ | âœ… **(å®Œæ•´æ”¯æŒ)** |
| **åå°ä»¤ç‰Œè‡ªåŠ¨åˆ·æ–°** | âŒ | âŒ | âœ… **(è‡ªåŠ¨åˆ·æ–°)** |
| **å®‰å…¨åŠ å›º** | åŸºç¡€ | åŸºç¡€ | âœ… **(ä¼ä¸šçº§)** |
| **é¢‘ç‡é™åˆ¶ä¸å†·å´** | âŒ | âŒ | âœ… **(æ™ºèƒ½è·¯ç”±)** |
| **å‘å¸ƒæ ‡ç­¾åè®®** | âŒ | âš ï¸ | âœ… **(æ”¯æŒ `v<ç‰ˆæœ¬>` ä¸ `v<ç‰ˆæœ¬>-<æ‰¹æ¬¡>` æ ‡ç­¾æµ)** |
| **å‘å¸ƒè‡ªåŠ¨åŒ–æµç¨‹** | âš ï¸ | âš ï¸ | âœ… **(æ ‡ç­¾æ¨é€è§¦å‘ GoReleaser å¹¶åˆ·æ–°å‘å¸ƒä¿¡æ¯)** |
| **å‘å¸ƒæ‰¹æ¬¡è‡ªåŠ¨ç”Ÿæˆ** | âš ï¸ | âš ï¸ | âœ… **(å‘ `main` åˆ†æ”¯æ¨é€ä¼šè§¦å‘ `releasebatch --mode create --target main`ï¼Œè‡ªåŠ¨æ‰“æ‰¹æ¬¡æ ‡ç­¾å¹¶å‘å¸ƒç‰ˆæœ¬)** |
| **å‘å¸ƒè¯´æ˜è‡ªåŠ¨ç”Ÿæˆ** | âŒ | âš ï¸ | âœ… **(é€šè¿‡ `releasebatch` èšåˆæäº¤å¹¶æ›´æ–° release notes)** |
| **ç­¾å/ä¿¡ä»»é“¾** | âŒ | âŒ | âš ï¸ **(å½“å‰ä»…æœ‰ `checksums.txt`ï¼Œå°šæœªæ¥å…¥è¯ä¹¦ç­¾å)** |
| **CLI ç™»å½•ä¸é…ç½®æ²»ç†** | âš ï¸ | âš ï¸ | âœ… **(æ”¯æŒ `--login` ç³»åˆ—ä¸ `--thegent-login=<provider>`ï¼Œå¹¶æä¾› `--setup` å‘å¯¼)** |
| **æ ¸å¿ƒé€»è¾‘å¤ç”¨** | `internal/` | `internal/` | âœ… **(`pkg/llmproxy`)** |
| **CI/CD æµæ°´çº¿** | åŸºç¡€ | åŸºç¡€ | âœ… **(ç­¾å/å¤šæ¶æ„)** |

---

## ğŸ” æŠ€æœ¯å·®å¼‚ä¸å®‰å…¨åŠ å›º

### 1. æ¶æ„æ¼”è¿›ï¼š`pkg/llmproxy`
ä¸»çº¿ç‰ˆæœ¬å°†æ ¸å¿ƒé€»è¾‘ä¿ç•™åœ¨ `internal/` ç›®å½•ä¸‹ï¼ˆè¿™ä¼šå¯¼è‡´å¤–éƒ¨ Go é¡¹ç›®æ— æ³•ç›´æ¥å¯¼å…¥ï¼‰ï¼Œè€Œ **cliproxyapi++** å·²å°†æ•´ä¸ªç¿»è¯‘å’Œä»£ç†å¼•æ“é‡æ„ä¸ºæ¸…æ™°ã€å…¬å¼€çš„ `pkg/llmproxy` åº“ã€‚
*   **å¯å¤ç”¨æ€§**: æ‚¨å¯ä»¥ç›´æ¥åœ¨è‡ªå·±çš„ Go åº”ç”¨ç¨‹åºä¸­å¯¼å…¥ä»£ç†é€»è¾‘ã€‚
*   **è§£è€¦**: å®ç°äº†é…ç½®ç®¡ç†ä¸æ‰§è¡Œé€»è¾‘çš„ä¸¥æ ¼åˆ†ç¦»ã€‚

### 2. ä¼ä¸šçº§èº«ä»½è®¤è¯ä¸ç”Ÿå‘½å‘¨æœŸç®¡ç†
*   **å®Œæ•´ GitHub Copilot é›†æˆ**: ä¸ä»…ä»…æ˜¯ API åŒ…è£…ã€‚`++` åŒ…å«å®Œæ•´çš„ OAuth è®¾å¤‡æµç™»å½•ã€æ¯ä¸ªå‡­æ®çš„é¢åº¦è¿½è¸ªä»¥åŠæ™ºèƒ½ä¼šè¯ç®¡ç†ã€‚
*   **Kiro (AWS CodeWhisperer) 2.0**: æä¾›å®šåˆ¶åŒ–çš„ Web ç•Œé¢ (`/v0/oauth/kiro`)ï¼Œæ”¯æŒé€šè¿‡æµè§ˆå™¨è¿›è¡Œ AWS Builder ID å’Œ Identity Center ç™»å½•ã€‚
*   **åå°ä»¤ç‰Œåˆ·æ–°**: ä¸“é—¨çš„åå°æœåŠ¡å®æ—¶ç›‘æ§ä»¤ç‰ŒçŠ¶æ€ï¼Œå¹¶åœ¨è¿‡æœŸå‰ 10 åˆ†é’Ÿè‡ªåŠ¨åˆ·æ–°ï¼Œç¡®ä¿æ™ºèƒ½ä½“ä»»åŠ¡é›¶åœæœºã€‚

### 3. å®‰å…¨åŠ å›ºï¼ˆâ€œçºµæ·±é˜²å¾¡â€ï¼‰
*   **è·¯å¾„ä¿æŠ¤ (Path Guard)**: å®šåˆ¶çš„ GitHub Action å·¥ä½œæµ (`pr-path-guard`)ï¼Œé˜²æ­¢åœ¨ PR è¿‡ç¨‹ä¸­å¯¹å…³é”®çš„ `internal/translator/` é€»è¾‘è¿›è¡Œä»»ä½•æœªç»æˆæƒçš„ä¿®æ”¹ã€‚
*   **è®¾å¤‡æŒ‡çº¹**: ç”Ÿæˆå”¯ä¸€ä¸”ä¸å¯å˜çš„è®¾å¤‡æ ‡è¯†ç¬¦ï¼Œä»¥æ»¡è¶³ä¸¥æ ¼çš„æä¾›å•†å®‰å…¨æ£€æŸ¥ï¼Œé˜²æ­¢è´¦å·è¢«æ ‡è®°ã€‚
*   **åŠ å›ºçš„ Docker åŸºç¡€é•œåƒ**: åŸºäºç»è¿‡å®¡è®¡çš„ Alpine 3.22.0 å±‚æ„å»ºï¼Œä»…åŒ…å«æœ€å°‘è½¯ä»¶åŒ…ï¼Œæ˜¾è‘—é™ä½äº†æ½œåœ¨çš„æ”»å‡»é¢ã€‚

### 4. é«˜è§„æ¨¡è¿è¥æ”¯æŒ
*   **æ™ºèƒ½å†·å´æœºåˆ¶**: è‡ªåŠ¨åŒ–çš„â€œå†·å´â€ç³»ç»Ÿå¯æ£€æµ‹æä¾›å•†ç«¯çš„é¢‘ç‡é™åˆ¶ï¼Œå¹¶æ™ºèƒ½åœ°æš‚åœå¯¹ç‰¹å®šä¾›åº”å•†çš„è¯·æ±‚ï¼ŒåŒæ—¶å°†æµé‡è·¯ç”±è‡³å…¶ä»–å¯ç”¨èŠ‚ç‚¹ã€‚
*   **ç»Ÿä¸€æ¨¡å‹è½¬æ¢å™¨**: å¤æ‚çš„æ˜ å°„å±‚ï¼Œå…è®¸æ‚¨è¯·æ±‚ `claude-3-5-sonnet`ï¼Œè€Œç”±ä»£ç†è‡ªåŠ¨å¤„ç†ç›®æ ‡ä¾›åº”å•†ï¼ˆå¦‚ Vertexã€AWSã€Anthropic ç­‰ï¼‰çš„å…·ä½“åè®®è¦æ±‚ã€‚

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å…ˆå†³æ¡ä»¶
- å·²å®‰è£… [Docker](https://docs.docker.com/get-docker/) å’Œ [Docker Compose](https://docs.docker.com/compose/install/)
- æˆ–å®‰è£… [Go 1.26+](https://golang.org/dl/)

### ä¸€é”®éƒ¨ç½² (Docker)

```bash
# è®¾ç½®éƒ¨ç½²ç›®å½•
mkdir -p ~/cliproxy && cd ~/cliproxy
curl -o config.yaml https://raw.githubusercontent.com/KooshaPari/cliproxyapi-plusplus/main/config.example.yaml

# åˆ›å»º compose æ–‡ä»¶
cat > docker-compose.yml << 'EOF'
services:
  cliproxy:
    image: KooshaPari/cliproxyapi-plusplus:latest
    container_name: cliproxyapi++
    ports: ["8317:8317"]
    volumes:
      - ./config.yaml:/CLIProxyAPI/config.yaml
      - ./auths:/root/.cli-proxy-api
      - ./logs:/CLIProxyAPI/logs
    restart: unless-stopped
EOF

docker compose up -d
```

---

## ğŸ› ï¸ é«˜çº§ç”¨æ³•

### æ‰©å±•çš„ä¾›åº”å•†æ”¯æŒ
`cliproxyapi++` å¼€ç®±å³ç”¨åœ°æ”¯æŒæµ·é‡æ¨¡å‹æ³¨å†Œï¼š
*   **ç›´æ¥æ¥å…¥**: Claude, Gemini, OpenAI, Mistral, Groq, DeepSeek.
*   **èšåˆå™¨**: OpenRouter, Together AI, Fireworks AI, Novita AI, SiliconFlow.
*   **ç§æœ‰åè®®**: Kiro (AWS), GitHub Copilot, Roo Code, Kilo AI, MiniMax.

### API è§„èŒƒ
ä»£ç†æä¾›ä¸¤ä¸ªä¸»è¦çš„ API è¡¨é¢ï¼š
1.  **OpenAI å…¼å®¹æ¥å£**: `/v1/chat/completions` å’Œ `/v1/models`ã€‚
2.  **ç®¡ç†æ¥å£**:
    *   `GET /v0/config`: æŸ¥çœ‹å½“å‰ï¼ˆæ”¯æŒçƒ­é‡è½½ï¼‰çš„é…ç½®ã€‚
    *   `GET /v0/oauth/kiro`: äº¤äº’å¼ Kiro è®¤è¯ç•Œé¢ã€‚
    *   `GET /v0/logs`: å®æ—¶æ—¥å¿—æŸ¥çœ‹ã€‚

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬ç»´æŒä¸¥æ ¼çš„è´¨é‡é—¨ç¦ï¼Œä»¥ä¿æŒé¡¹ç›®çš„â€œåŠ å›ºâ€çŠ¶æ€ï¼š
1.  **ä»£ç é£æ ¼**: å¿…é¡»é€šè¿‡ `golangci-lint` æ£€æŸ¥ï¼Œä¸”æ— ä»»ä½•è­¦å‘Šã€‚
2.  **æµ‹è¯•è¦†ç›–**: æ‰€æœ‰çš„ç¿»è¯‘å™¨é€»è¾‘å¿…é¡»åŒ…å«å•å…ƒæµ‹è¯•ã€‚
3.  **æ²»ç†**: å¯¹ `pkg/` æ ¸å¿ƒé€»è¾‘çš„ä¿®æ”¹éœ€è¦å…ˆåœ¨ Issue ä¸­è¿›è¡Œè®¨è®ºã€‚

è¯·å‚é˜… **[CONTRIBUTING.md](CONTRIBUTING.md)** äº†è§£æ›´å¤šè¯¦æƒ…ã€‚

---

## ğŸ“œ å¼€æºåè®®

æœ¬é¡¹ç›®æ ¹æ® MIT è®¸å¯è¯å‘è¡Œã€‚è¯¦æƒ…è¯·å‚é˜… [LICENSE](LICENSE) æ–‡ä»¶ã€‚

---

<p align="center">
  <b>ä¸ºç°ä»£æ™ºèƒ½ä½“æŠ€æœ¯æ ˆæ‰“é€ çš„åŠ å›ºçº§ AI åŸºç¡€è®¾æ–½ã€‚</b><br>
  ç”±ç¤¾åŒºå€¾åŠ›æ‰“é€  â¤ï¸
</p>
